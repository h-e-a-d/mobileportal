<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PK768FJP');</script>
    <!-- End Google Tag Manager -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kloopik - Play Free Online Games | Best Gaming Portal 2024</title>
    <meta name="description" content="Play thousands of free online games on Kloopik. Action, puzzle, racing, strategy and arcade games. No downloads required - play instantly in your browser! Best gaming portal with new games daily.">
    <meta name="keywords" content="free online games, browser games, flash games, arcade games, puzzle games, action games, racing games, strategy games, sports games, Kloopik, gaming portal">
    <meta name="author" content="Kloopik">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kloopik.com/">
    <meta property="og:title" content="Kloopik - Play Free Online Games | Best Gaming Portal 2024">
    <meta property="og:description" content="Play thousands of free online games on Kloopik. Action, puzzle, racing, strategy and arcade games. No downloads required - play instantly in your browser!">
    <meta property="og:image" content="https://kloopik.com/images/kloopik-social.jpg">
    <meta property="og:site_name" content="Kloopik">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://kloopik.com/">
    <meta property="twitter:title" content="Kloopik - Play Free Online Games | Best Gaming Portal 2024">
    <meta property="twitter:description" content="Play thousands of free online games on Kloopik. Action, puzzle, racing, strategy and arcade games. No downloads required - play instantly in your browser!">
    <meta property="twitter:image" content="https://kloopik.com/images/kloopik-social.jpg">
    
    <!-- Additional SEO -->
    <link rel="canonical" href="https://kloopik.com/">
    <meta name="theme-color" content="#ff6b35">
    <meta name="msapplication-TileColor" content="#ff6b35">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Kloopik",
      "url": "https://kloopik.com",
      "description": "Play thousands of free online games on Kloopik. Action, puzzle, racing, strategy and arcade games.",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://kloopik.com/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Kloopik",
        "url": "https://kloopik.com"
      }
    }
    </script>
    
    <!-- Preload fonts and critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Preconnect to API endpoints for faster game loading -->
    <link rel="preconnect" href="https://gamemonetize.com">
    <link rel="preconnect" href="https://api.allorigins.win">
    <link rel="dns-prefetch" href="https://cors-anywhere.herokuapp.com">
    
    <!-- Preload critical CSS -->
    <link rel="preload" href="styles.css" as="style">
    
    <!-- Resource hints for better performance -->
    <meta name="theme-color" content="#6842FF">
    <meta name="color-scheme" content="dark">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- iOS PWA Support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Kloopik">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiBmaWxsPSIjMEMwRDE0IiByeD0iMzIiLz4KPHJlY3QgeD0iMzIiIHk9IjMyIiB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgZmlsbD0iIzZBNDJGRiIgcng9IjE2Ii8+Cjx0ZXh0IHg9Ijk2IiB5PSIxMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNGOUZBRkYiIGZvbnQtZmFtaWx5PSJOdW5pdG8sIEFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQ4IiBmb250LXdlaWdodD0iOTAwIj5LPC90ZXh0Pgo8L3N2Zz4K">
    
    <link rel="stylesheet" href="styles.css">
    
    <!-- Inline critical CSS for above-the-fold content -->
    <style>
        /* Critical CSS - inline for faster rendering */
        body{font-family:'Nunito',Arial,sans-serif;margin:0;padding:0;background:#0C0D14;color:#F9FAFF;overflow-x:hidden}
        .navbar{position:fixed;top:0;left:0;right:0;background:rgba(33,34,51,0.9);backdrop-filter:blur(8px);z-index:1000;height:60px}
        .loading{display:flex;justify-content:center;align-items:center;height:200px;color:#AAADBE}
        .spinner{width:40px;height:40px;border:4px solid #212233;border-top:4px solid #6842FF;border-radius:50%;animation:spin 1s linear infinite}
        @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PK768FJP"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <div class="nav-logo">
                    <a href="/" aria-label="Kloopik - Home">
                        <h1>Kloopik</h1>
                    </a>
                </div>
                <button class="search-toggle" id="searchToggle" aria-label="Toggle search">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button>
            </div>
            <div class="nav-search" id="navSearch">
                <div class="search-input-container">
                    <input type="text" id="searchInput" placeholder="Search games...">
                    <button class="search-close" id="searchClose" aria-label="Close search">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="search-dropdown" id="searchDropdown">
                    <div class="search-results" id="searchResults">
                        <!-- Search results will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="main-container sidebar-expanded" id="mainContainer">
        <aside class="sidebar" id="sidebar">
            <button class="sidebar-toggle" id="sidebarToggle">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M3 12l10-5-10-5v10z"/>
                </svg>
            </button>
            <div class="categories">
                <div class="category-item active" data-category="all">
                    <span>All Games</span>
                </div>
                <div class="category-item" data-category="recent">
                    <span>Recent</span>
                </div>
                <div class="category-item" data-category="Action">
                    <span>Action</span>
                </div>
                <div class="category-item" data-category="Adventure">
                    <span>Adventure</span>
                </div>
                <div class="category-item" data-category="Puzzle">
                    <span>Puzzle</span>
                </div>
                <div class="category-item" data-category="Racing">
                    <span>Racing</span>
                </div>
                <div class="category-item" data-category="Sports">
                    <span>Sports</span>
                </div>
                <div class="category-item" data-category="Strategy">
                    <span>Strategy</span>
                </div>
                <div class="category-item" data-category="Arcade">
                    <span>Arcade</span>
                </div>
            </div>
        </aside>

        <main class="content">
            <div class="loading" id="loading">
                <div class="spinner"></div>
                Loading games...
            </div>
            
            <!-- Mobile Category Sections -->
            <div class="mobile-category-sections" id="mobileCategorySections">
                <!-- This will be populated by JavaScript -->
            </div>
            
            <div class="games-grid" id="gamesGrid"></div>
        </main>
    </div>

    <footer class="footer" id="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Kloopik</h3>
                <p>Play thousands of free online games across all categories. No downloads, no registration required.</p>
            </div>
            <div class="footer-section">
                <h4>Categories</h4>
                <div class="footer-links">
                    <a href="#" data-category="Action">Action</a>
                    <a href="#" data-category="Adventure">Adventure</a>
                    <a href="#" data-category="Puzzle">Puzzle</a>
                    <a href="#" data-category="Racing">Racing</a>
                </div>
            </div>
            <div class="footer-section">
                <h4>More Games</h4>
                <div class="footer-links">
                    <a href="#" data-category="Sports">Sports</a>
                    <a href="#" data-category="Strategy">Strategy</a>
                    <a href="#" data-category="Arcade">Arcade</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Kloopik. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const registration = await navigator.serviceWorker.register('/sw.js', {
                        scope: '/'
                    });
                    
                    console.log('Service Worker registered successfully:', registration.scope);
                    
                    // Listen for updates
                    registration.addEventListener('updatefound', () => {
                        const newWorker = registration.installing;
                        newWorker.addEventListener('statechange', () => {
                            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                // New service worker available, show update prompt
                                if (window.gamePortal) {
                                    window.gamePortal.showUpdateAvailable(registration);
                                }
                            }
                        });
                    });
                } catch (error) {
                    console.error('Service Worker registration failed:', error);
                }
            });
        }
        
        // PWA Install prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button after games load
            setTimeout(() => {
                if (window.gamePortal) {
                    window.gamePortal.showInstallPrompt();
                }
            }, 5000);
        });
        
        // Handle successful PWA installation
        window.addEventListener('appinstalled', () => {
            console.log('PWA installed successfully');
            deferredPrompt = null;
        });
    </script>
</body>
</html>