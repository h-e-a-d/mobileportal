(()=>{var e,t,i,n,r={34:(e,t,i)=>{"use strict";var n=i(4901);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},283:(e,t,i)=>{"use strict";var n=i(9504),r=i(9039),s=i(4901),o=i(9297),a=i(3724),d=i(350).CONFIGURABLE,c=i(3706),u=i(1181),l=u.enforce,p=u.get,m=String,h=Object.defineProperty,b=n("".slice),g=n("".replace),f=n([].join),v=a&&!r(function(){return 8!==h(function(){},"length",{value:8}).length}),A=String(String).split("String"),y=e.exports=function(e,t,i){"Symbol("===b(m(t),0,7)&&(t="["+g(m(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!o(e,"name")||d&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),v&&i&&o(i,"arity")&&e.length!==i.arity&&h(e,"length",{value:i.arity});try{i&&o(i,"constructor")&&i.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=l(e);return o(n,"source")||(n.source=f(A,"string"==typeof t?t:"")),e};Function.prototype.toString=y(function(){return s(this)&&p(this).source||c(this)},"toString")},350:(e,t,i)=>{"use strict";var n=i(3724),r=i(9297),s=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=r(s,"name"),d=a&&"something"===function(){}.name,c=a&&(!n||n&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:d,CONFIGURABLE:c}},397:(e,t,i)=>{"use strict";var n=i(7751);e.exports=n("document","documentElement")},421:e=>{"use strict";e.exports={}},616:(e,t,i)=>{"use strict";var n=i(9039);e.exports=!n(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},741:e=>{"use strict";var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?i:t)(n)}},757:(e,t,i)=>{"use strict";var n=i(7751),r=i(4901),s=i(1625),o=i(7040),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return r(t)&&s(t.prototype,a(e))}},1181:(e,t,i)=>{"use strict";var n,r,s,o=i(8622),a=i(4576),d=i(34),c=i(6699),u=i(9297),l=i(7629),p=i(6119),m=i(421),h="Object already initialized",b=a.TypeError,g=a.WeakMap;if(o||l.state){var f=l.state||(l.state=new g);f.get=f.get,f.has=f.has,f.set=f.set,n=function(e,t){if(f.has(e))throw new b(h);return t.facade=e,f.set(e,t),t},r=function(e){return f.get(e)||{}},s=function(e){return f.has(e)}}else{var v=p("state");m[v]=!0,n=function(e,t){if(u(e,v))throw new b(h);return t.facade=e,c(e,v,t),t},r=function(e){return u(e,v)?e[v]:{}},s=function(e){return u(e,v)}}e.exports={set:n,get:r,has:s,enforce:function(e){return s(e)?r(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!d(t)||(i=r(t)).type!==e)throw new b("Incompatible receiver, "+e+" required");return i}}}},1291:(e,t,i)=>{"use strict";var n=i(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},1625:(e,t,i)=>{"use strict";var n=i(9504);e.exports=n({}.isPrototypeOf)},1828:(e,t,i)=>{"use strict";var n=i(9504),r=i(9297),s=i(5397),o=i(9617).indexOf,a=i(421),d=n([].push);e.exports=function(e,t){var i,n=s(e),c=0,u=[];for(i in n)!r(a,i)&&r(n,i)&&d(u,i);for(;t.length>c;)r(n,i=t[c++])&&(~o(u,i)||d(u,i));return u}},2106:(e,t,i)=>{"use strict";var n=i(283),r=i(4913);e.exports=function(e,t,i){return i.get&&n(i.get,t,{getter:!0}),i.set&&n(i.set,t,{setter:!0}),r.f(e,t,i)}},2195:(e,t,i)=>{"use strict";var n=i(9504),r=n({}.toString),s=n("".slice);e.exports=function(e){return s(r(e),8,-1)}},2206:(e,t)=>{"use strict";t.z=void 0,t.z=[{name:"Afghanistan",isoCode:"AF",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Albania",isoCode:"AL",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Algeria",isoCode:"DZ",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"American Samoa",isoCode:"AS",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Andorra",isoCode:"AD",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Angola",isoCode:"AO",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Anguilla",isoCode:"AI",gdprApplicable:!0,continent:"North America",euMember:!1},{name:"Antarctica",isoCode:"AQ",gdprApplicable:!1,continent:"Antarctica",euMember:!1},{name:"Antigua and Barbuda",isoCode:"AG",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Argentina",isoCode:"AR",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Armenia",isoCode:"AM",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Aruba",isoCode:"AW",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Australia",isoCode:"AU",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Austria",isoCode:"AT",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Azerbaijan",isoCode:"AZ",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Bahamas",isoCode:"BS",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Bahrain",isoCode:"BH",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Bangladesh",isoCode:"BD",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Barbados",isoCode:"BB",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Belarus",isoCode:"BY",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Belgium",isoCode:"BE",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Belize",isoCode:"BZ",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Benin",isoCode:"BJ",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Bermuda",isoCode:"BM",gdprApplicable:!0,continent:"North America",euMember:!1},{name:"Bhutan",isoCode:"BT",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Bolivia, Plurinational State of",isoCode:"BO",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Bonaire, Sint Eustatius and Saba",isoCode:"BQ",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Bosnia and Herzegovina",isoCode:"BA",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Botswana",isoCode:"BW",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Bouvet Island",isoCode:"BV",gdprApplicable:!1,continent:"Antarctica",euMember:!1},{name:"Brazil",isoCode:"BR",gdprApplicable:!0,continent:"South America",euMember:!1},{name:"British Indian Ocean Territory",isoCode:"IO",gdprApplicable:!0,continent:"Asia",euMember:!1},{name:"Brunei Darussalam",isoCode:"BN",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Bulgaria",isoCode:"BG",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Burkina Faso",isoCode:"BF",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Burundi",isoCode:"BI",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Cambodia",isoCode:"KH",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Cameroon",isoCode:"CM",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Canada",isoCode:"CA",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Cape Verde",isoCode:"CV",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Cayman Islands",isoCode:"KY",gdprApplicable:!0,continent:"North America",euMember:!1},{name:"Central African Republic",isoCode:"CF",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Chad",isoCode:"TD",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Chile",isoCode:"CL",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"China",isoCode:"CN",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Christmas Island",isoCode:"CX",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Cocos (Keeling) Islands",isoCode:"CC",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Colombia",isoCode:"CO",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Comoros",isoCode:"KM",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Congo",isoCode:"CG",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Congo, the Democratic Republic of the",isoCode:"CD",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Cook Islands",isoCode:"CK",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Costa Rica",isoCode:"CR",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Croatia",isoCode:"HR",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Cuba",isoCode:"CU",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Curaçao",isoCode:"CW",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Cyprus",isoCode:"CY",gdprApplicable:!0,continent:"Asia",euMember:!0},{name:"Czech Republic",isoCode:"CZ",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Côte d'Ivoire",isoCode:"CI",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Denmark",isoCode:"DK",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Djibouti",isoCode:"DJ",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Dominica",isoCode:"DM",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Dominican Republic",isoCode:"DO",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Ecuador",isoCode:"EC",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Egypt",isoCode:"EG",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"El Salvador",isoCode:"SV",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Equatorial Guinea",isoCode:"GQ",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Eritrea",isoCode:"ER",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Estonia",isoCode:"EE",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Eswatini",isoCode:"SZ",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Ethiopia",isoCode:"ET",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Falkland Islands (Malvinas)",isoCode:"FK",gdprApplicable:!0,continent:"South America",euMember:!1},{name:"Faroe Islands",isoCode:"FO",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Fiji",isoCode:"FJ",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Finland",isoCode:"FI",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"France",isoCode:"FR",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"French Guiana",isoCode:"GF",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"French Polynesia",isoCode:"PF",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"French Southern Territories",isoCode:"TF",gdprApplicable:!1,continent:"Antarctica",euMember:!1},{name:"Gabon",isoCode:"GA",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Gambia",isoCode:"GM",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Georgia",isoCode:"GE",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Germany",isoCode:"DE",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Ghana",isoCode:"GH",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Gibraltar",isoCode:"GI",gdprApplicable:!0,continent:"Europe",euMember:!1},{name:"Greece",isoCode:"GR",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Greenland",isoCode:"GL",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Grenada",isoCode:"GD",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Guadeloupe",isoCode:"GP",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Guam",isoCode:"GU",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Guatemala",isoCode:"GT",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Guernsey",isoCode:"GG",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Guinea",isoCode:"GN",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Guinea-Bissau",isoCode:"GW",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Guyana",isoCode:"GY",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Haiti",isoCode:"HT",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Heard Island and McDonald Islands",isoCode:"HM",gdprApplicable:!1,continent:"Antarctica",euMember:!1},{name:"Holy See (Vatican City State)",isoCode:"VA",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Honduras",isoCode:"HN",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Hong Kong",isoCode:"HK",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Hungary",isoCode:"HU",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Iceland",isoCode:"IS",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"India",isoCode:"IN",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Indonesia",isoCode:"ID",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Iran, Islamic Republic of",isoCode:"IR",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Iraq",isoCode:"IQ",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Ireland",isoCode:"IE",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Isle of Man",isoCode:"IM",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Israel",isoCode:"IL",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Italy",isoCode:"IT",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Jamaica",isoCode:"JM",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Japan",isoCode:"JP",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Jersey",isoCode:"JE",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Jordan",isoCode:"JO",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Kazakhstan",isoCode:"KZ",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Kenya",isoCode:"KE",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Kiribati",isoCode:"KI",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Korea, Democratic People's Republic of",isoCode:"KP",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Korea, Republic of",isoCode:"KR",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Kuwait",isoCode:"KW",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Kyrgyzstan",isoCode:"KG",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Lao People's Democratic Republic",isoCode:"LA",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Latvia",isoCode:"LV",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Lebanon",isoCode:"LB",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Lesotho",isoCode:"LS",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Liberia",isoCode:"LR",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Libya",isoCode:"LY",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Liechtenstein",isoCode:"LI",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Lithuania",isoCode:"LT",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Luxembourg",isoCode:"LU",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Macao",isoCode:"MO",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Macedonia, the Former Yugoslav Republic of",isoCode:"MK",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Madagascar",isoCode:"MG",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Malawi",isoCode:"MW",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Malaysia",isoCode:"MY",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Maldives",isoCode:"MV",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Mali",isoCode:"ML",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Malta",isoCode:"MT",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Marshall Islands",isoCode:"MH",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Martinique",isoCode:"MQ",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Mauritania",isoCode:"MR",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Mauritius",isoCode:"MU",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Mayotte",isoCode:"YT",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Mexico",isoCode:"MX",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Micronesia, Federated States of",isoCode:"FM",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Moldova, Republic of",isoCode:"MD",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Monaco",isoCode:"MC",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Mongolia",isoCode:"MN",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Montenegro",isoCode:"ME",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Montserrat",isoCode:"MS",gdprApplicable:!0,continent:"North America",euMember:!1},{name:"Morocco",isoCode:"MA",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Mozambique",isoCode:"MZ",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Myanmar",isoCode:"MM",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Namibia",isoCode:"NA",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Nauru",isoCode:"NR",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Nepal",isoCode:"NP",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Netherlands",isoCode:"NL",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"New Caledonia",isoCode:"NC",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"New Zealand",isoCode:"NZ",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Nicaragua",isoCode:"NI",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Niger",isoCode:"NE",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Nigeria",isoCode:"NG",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Niue",isoCode:"NU",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Norfolk Island",isoCode:"NF",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Northern Mariana Islands",isoCode:"MP",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Norway",isoCode:"NO",gdprApplicable:!0,continent:"Europe",euMember:!1},{name:"Oman",isoCode:"OM",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Pakistan",isoCode:"PK",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Palau",isoCode:"PW",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Palestine, State of",isoCode:"PS",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Panama",isoCode:"PA",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Papua New Guinea",isoCode:"PG",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Paraguay",isoCode:"PY",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Peru",isoCode:"PE",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Philippines",isoCode:"PH",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Pitcairn",isoCode:"PN",gdprApplicable:!0,continent:"Oceania",euMember:!1},{name:"Poland",isoCode:"PL",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Portugal",isoCode:"PT",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Puerto Rico",isoCode:"PR",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Qatar",isoCode:"QA",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Romania",isoCode:"RO",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Russian Federation",isoCode:"RU",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Rwanda",isoCode:"RW",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Réunion",isoCode:"RE",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Saint Barthélemy",isoCode:"BL",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Saint Helena, Ascension and Tristan da Cunha",isoCode:"SH",gdprApplicable:!0,continent:"Africa",euMember:!1},{name:"Saint Kitts and Nevis",isoCode:"KN",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Saint Lucia",isoCode:"LC",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Saint Martin (French part)",isoCode:"MF",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Saint Pierre and Miquelon",isoCode:"PM",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Saint Vincent and the Grenadines",isoCode:"VC",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Samoa",isoCode:"WS",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"San Marino",isoCode:"SM",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Sao Tome and Principe",isoCode:"ST",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Saudi Arabia",isoCode:"SA",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Senegal",isoCode:"SN",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Serbia",isoCode:"RS",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Seychelles",isoCode:"SC",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Sierra Leone",isoCode:"SL",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Singapore",isoCode:"SG",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Sint Maarten (Dutch part)",isoCode:"SX",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Slovakia",isoCode:"SK",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Slovenia",isoCode:"SI",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Solomon Islands",isoCode:"SB",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Somalia",isoCode:"SO",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"South Africa",isoCode:"ZA",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"South Georgia and the South Sandwich Islands",isoCode:"GS",gdprApplicable:!0,continent:"Antarctica",euMember:!1},{name:"South Sudan",isoCode:"SS",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Spain",isoCode:"ES",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Sri Lanka",isoCode:"LK",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Sudan",isoCode:"SD",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Suriname",isoCode:"SR",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Svalbard and Jan Mayen",isoCode:"SJ",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"Sweden",isoCode:"SE",gdprApplicable:!0,continent:"Europe",euMember:!0},{name:"Switzerland",isoCode:"CH",gdprApplicable:!0,continent:"Europe",euMember:!1},{name:"Syrian Arab Republic",isoCode:"SY",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Taiwan, Province of China",isoCode:"TW",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Tajikistan",isoCode:"TJ",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Tanzania, United Republic of",isoCode:"TZ",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Thailand",isoCode:"TH",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Timor-Leste",isoCode:"TL",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Togo",isoCode:"TG",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Tokelau",isoCode:"TK",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Tonga",isoCode:"TO",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Trinidad and Tobago",isoCode:"TT",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Tunisia",isoCode:"TN",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Turkey",isoCode:"TR",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Turkmenistan",isoCode:"TM",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Turks and Caicos Islands",isoCode:"TC",gdprApplicable:!0,continent:"North America",euMember:!1},{name:"Tuvalu",isoCode:"TV",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Uganda",isoCode:"UG",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Ukraine",isoCode:"UA",gdprApplicable:!1,continent:"Europe",euMember:!1},{name:"United Arab Emirates",isoCode:"AE",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"United Kingdom",isoCode:"GB",gdprApplicable:!0,continent:"Europe",euMember:!1},{name:"United States",isoCode:"US",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"United States Minor Outlying Islands",isoCode:"UM",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Uruguay",isoCode:"UY",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Uzbekistan",isoCode:"UZ",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Vanuatu",isoCode:"VU",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Venezuela, Bolivarian Republic of",isoCode:"VE",gdprApplicable:!1,continent:"South America",euMember:!1},{name:"Viet Nam",isoCode:"VN",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Virgin Islands, British",isoCode:"VG",gdprApplicable:!0,continent:"North America",euMember:!1},{name:"Virgin Islands, U.S.",isoCode:"VI",gdprApplicable:!1,continent:"North America",euMember:!1},{name:"Wallis and Futuna",isoCode:"WF",gdprApplicable:!1,continent:"Oceania",euMember:!1},{name:"Western Sahara",isoCode:"EH",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Yemen",isoCode:"YE",gdprApplicable:!1,continent:"Asia",euMember:!1},{name:"Zambia",isoCode:"ZM",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Zimbabwe",isoCode:"ZW",gdprApplicable:!1,continent:"Africa",euMember:!1},{name:"Åland Islands",isoCode:"AX",gdprApplicable:!1,continent:"Europe",euMember:!1}]},2777:(e,t,i)=>{"use strict";var n=i(9565),r=i(34),s=i(757),o=i(5966),a=i(4270),d=i(8227),c=TypeError,u=d("toPrimitive");e.exports=function(e,t){if(!r(e)||s(e))return e;var i,d=o(e,u);if(d){if(void 0===t&&(t="default"),i=n(d,e,t),!r(i)||s(i))return i;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},2796:(e,t,i)=>{"use strict";var n=i(9039),r=i(4901),s=/#|\.prototype\./,o=function(e,t){var i=d[a(e)];return i===u||i!==c&&(r(t)?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},d=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},2812:e=>{"use strict";var t=TypeError;e.exports=function(e,i){if(e<i)throw new t("Not enough arguments");return e}},2839:(e,t,i)=>{"use strict";var n=i(4576).navigator,r=n&&n.userAgent;e.exports=r?String(r):""},2896:(e,t)=>{"use strict";t.O9=function(e){return null!=e}},3392:(e,t,i)=>{"use strict";var n=i(9504),r=0,s=Math.random(),o=n(1.1.toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++r+s,36)}},3706:(e,t,i)=>{"use strict";var n=i(9504),r=i(4901),s=i(7629),o=n(Function.toString);r(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},3717:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},3724:(e,t,i)=>{"use strict";var n=i(9039);e.exports=!n(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(e,t,i)=>{"use strict";var n=i(4576),r=i(34),s=n.document,o=r(s)&&r(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},4117:e=>{"use strict";e.exports=function(e){return null==e}},4199:(e,t)=>{"use strict";var i,n,r,s,o,a,d;t.BE=t.fh=t.KI=t.lX=t.LE=t.gX=t.vn=void 0,function(e){e[e.VAST1=1]="VAST1",e[e.VAST2=2]="VAST2",e[e.VAST3=3]="VAST3",e[e.VAST1Wrapper=4]="VAST1Wrapper",e[e.VAST2Wrapper=5]="VAST2Wrapper",e[e.VAST3Wrapper=6]="VAST3Wrapper",e[e.VAST4=7]="VAST4",e[e.VAST4Wrapper=8]="VAST4Wrapper",e[e.DAAST1=9]="DAAST1",e[e.DAAST1Wrapper=10]="DAAST1Wrapper",e[e.VAST4_1=11]="VAST4_1",e[e.VAST4_1Wrapper=12]="VAST4_1Wrapper",e[e.VAST4_2=13]="VAST4_2",e[e.VAST4_2Wrapper=14]="VAST4_2Wrapper"}(i||(t.vn=i={})),function(e){e[e.VPAID1=1]="VPAID1",e[e.VPAID2=2]="VPAID2",e[e.MRAID1=3]="MRAID1",e[e.ORMAA=4]="ORMAA",e[e.MRAID2=5]="MRAID2",e[e.MRAID3=6]="MRAID3",e[e.OMID_1_0=7]="OMID_1_0",e[e.SIMID_1_0=8]="SIMID_1_0",e[e.SIMID_1_1=9]="SIMID_1_1"}(n||(t.gX=n={})),function(e){e[e.INSTREAM=1]="INSTREAM",e[e.OUTSTREAM=2]="OUTSTREAM"}(r||(t.LE=r={})),function(e){e[e.INSTREAM=1]="INSTREAM",e[e.INTERSTITIAL=5]="INTERSTITIAL"}(s||(t.lX=s={})),function(e){e[e.INSTREAM=1]="INSTREAM",e[e.INTERSTITIAL=3]="INTERSTITIAL"}(o||(t.KI=o={})),function(e){e[e.INSTREAM=1]="INSTREAM"}(a||(t.fh=a={})),function(e){e[e.CLICK_WITH_SOUND=3]="CLICK_WITH_SOUND"}(d||(t.BE=d={}))},4215:(e,t,i)=>{"use strict";var n=i(4576),r=i(2839),s=i(2195),o=function(e){return r.slice(0,e.length)===e};e.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===s(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},4245:(e,t)=>{"use strict";t.v=function(){const e={resolve:e=>{},reject:e=>{},promise:null};return e.promise=new Promise((t,i)=>{e.resolve=t,e.reject=i}),e}},4270:(e,t,i)=>{"use strict";var n=i(9565),r=i(4901),s=i(34),o=TypeError;e.exports=function(e,t){var i,a;if("string"===t&&r(i=e.toString)&&!s(a=n(i,e)))return a;if(r(i=e.valueOf)&&!s(a=n(i,e)))return a;if("string"!==t&&r(i=e.toString)&&!s(a=n(i,e)))return a;throw new o("Can't convert object to primitive value")}},4495:(e,t,i)=>{"use strict";var n=i(9519),r=i(9039),s=i(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!r(function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41})},4576:function(e,t,i){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4901:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4913:(e,t,i)=>{"use strict";var n=i(3724),r=i(5917),s=i(8686),o=i(8551),a=i(6969),d=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l="enumerable",p="configurable",m="writable";t.f=n?s?function(e,t,i){if(o(e),t=a(t),o(i),"function"==typeof e&&"prototype"===t&&"value"in i&&m in i&&!i[m]){var n=u(e,t);n&&n[m]&&(e[t]=i.value,i={configurable:p in i?i[p]:n[p],enumerable:l in i?i[l]:n[l],writable:!1})}return c(e,t,i)}:c:function(e,t,i){if(o(e),t=a(t),o(i),r)try{return c(e,t,i)}catch(e){}if("get"in i||"set"in i)throw new d("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},5031:(e,t,i)=>{"use strict";var n=i(7751),r=i(9504),s=i(8480),o=i(3717),a=i(8551),d=r([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=s.f(a(e)),i=o.f;return i?d(t,i(e)):t}},5213:(e,t,i)=>{"use strict";var n=i(4576),r=i(9039),s=n.RegExp,o=!r(function(){var e=!0;try{s(".","d")}catch(t){e=!1}var t={},i="",n=e?"dgimsy":"gimsy",r=function(e,n){Object.defineProperty(t,e,{get:function(){return i+=n,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)r(a,o[a]);return Object.getOwnPropertyDescriptor(s.prototype,"flags").get.call(t)!==n||i!==n});e.exports={correct:o}},5397:(e,t,i)=>{"use strict";var n=i(7055),r=i(7750);e.exports=function(e){return n(r(e))}},5606:e=>{var t,i,n=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var a,d=[],c=!1,u=-1;function l(){c&&a&&(c=!1,a.length?d=a.concat(d):u=-1,d.length&&p())}function p(){if(!c){var e=o(l);c=!0;for(var t=d.length;t;){for(a=d,d=[];++u<t;)a&&a[u].run();u=-1,t=d.length}a=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new m(e,t)),1!==d.length||c||o(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5610:(e,t,i)=>{"use strict";var n=i(1291),r=Math.max,s=Math.min;e.exports=function(e,t){var i=n(e);return i<0?r(i+t,0):s(i,t)}},5745:(e,t,i)=>{"use strict";var n=i(7629);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},5917:(e,t,i)=>{"use strict";var n=i(3724),r=i(9039),s=i(4055);e.exports=!n&&!r(function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a})},5966:(e,t,i)=>{"use strict";var n=i(9306),r=i(4117);e.exports=function(e,t){var i=e[t];return r(i)?void 0:n(i)}},6080:(e,t,i)=>{"use strict";var n=i(7476),r=i(9306),s=i(616),o=n(n.bind);e.exports=function(e,t){return r(e),void 0===t?e:s?o(e,t):function(){return e.apply(t,arguments)}}},6119:(e,t,i)=>{"use strict";var n=i(5745),r=i(3392),s=n("keys");e.exports=function(e){return s[e]||(s[e]=r(e))}},6193:(e,t,i)=>{"use strict";var n=i(4215);e.exports="NODE"===n},6198:(e,t,i)=>{"use strict";var n=i(8014);e.exports=function(e){return n(e.length)}},6368:(e,t,i)=>{"use strict";var n=i(6518),r=i(4576),s=i(9225).clear;n({global:!0,bind:!0,enumerable:!0,forced:r.clearImmediate!==s},{clearImmediate:s})},6395:e=>{"use strict";e.exports=!1},6518:(e,t,i)=>{"use strict";var n=i(4576),r=i(7347).f,s=i(6699),o=i(6840),a=i(9433),d=i(7740),c=i(2796);e.exports=function(e,t){var i,u,l,p,m,h=e.target,b=e.global,g=e.stat;if(i=b?n:g?n[h]||a(h,{}):n[h]&&n[h].prototype)for(u in t){if(p=t[u],l=e.dontCallGetSet?(m=r(i,u))&&m.value:i[u],!c(b?u:h+(g?".":"#")+u,e.forced)&&void 0!==l){if(typeof p==typeof l)continue;d(p,l)}(e.sham||l&&l.sham)&&s(p,"sham",!0),o(i,u,p,e)}}},6699:(e,t,i)=>{"use strict";var n=i(3724),r=i(4913),s=i(6980);e.exports=n?function(e,t,i){return r.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},6823:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6840:(e,t,i)=>{"use strict";var n=i(4901),r=i(4913),s=i(283),o=i(9433);e.exports=function(e,t,i,a){a||(a={});var d=a.enumerable,c=void 0!==a.name?a.name:t;if(n(i)&&s(i,c,a),a.global)d?e[t]=i:o(t,i);else{try{a.unsafe?e[t]&&(d=!0):delete e[t]}catch(e){}d?e[t]=i:r.f(e,t,{value:i,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},6969:(e,t,i)=>{"use strict";var n=i(2777),r=i(757);e.exports=function(e){var t=n(e,"string");return r(t)?t:t+""}},6980:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7040:(e,t,i)=>{"use strict";var n=i(4495);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(e,t,i)=>{"use strict";var n=i(9504),r=i(9039),s=i(2195),o=Object,a=n("".split);e.exports=r(function(){return!o("z").propertyIsEnumerable(0)})?function(e){return"String"===s(e)?a(e,""):o(e)}:o},7282:(e,t)=>{"use strict";t.fT=t.M_=t.zV=t._y=t.bz=t.l=void 0,t.l=["google","amazon","adsense"],t.bz=["ix","rubicon","sharethrough","pubmatic","appnexus","rise","stroeerCore","venatus","mediafuse","iionads","webads","goldbach","beintoo","seedtag","ozone","connatix","invibes","ttd","alkimi","adf","sovrn","nexx360"],t._y="_server",t.zV=[`appnexus${t._y}`,`pubmatic${t._y}`,`rubicon${t._y}`,`rise${t._y}`,`sharethrough${t._y}`,`ix${t._y}`],t.M_=[...t.l,...t.bz,...t.zV],t.fT={appnexus:"138242044687",ix:"138241895930",pubmatic:"138241896683",rubicon:"138241885337",sharethrough:"138382194304",venatus:"138367023875",rise:"138427190788",stroeerCore:"138436849730",mediafuse:"138468109427",iionads:"138473836137",webads:"138474573619",goldbach:"138479636654",beintoo:"138499252194",seedtag:"138480188935",ozone:"138520313072",connatix:"138516021795",invibes:null,ttd:"138516025707",alkimi:"138516789787",adf:"138516743709",sovrn:"138517520506",nexx360:"138520677054"}},7347:(e,t,i)=>{"use strict";var n=i(3724),r=i(9565),s=i(8773),o=i(6980),a=i(5397),d=i(6969),c=i(9297),u=i(5917),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=d(t),u)try{return l(e,t)}catch(e){}if(c(e,t))return o(!r(s.f,e,t),e[t])}},7476:(e,t,i)=>{"use strict";var n=i(2195),r=i(9504);e.exports=function(e){if("Function"===n(e))return r(e)}},7629:(e,t,i)=>{"use strict";var n=i(6395),r=i(4576),s=i(9433),o="__core-js_shared__",a=e.exports=r[o]||s(o,{});(a.versions||(a.versions=[])).push({version:"3.43.0",mode:n?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.43.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7680:(e,t,i)=>{"use strict";var n=i(9504);e.exports=n([].slice)},7740:(e,t,i)=>{"use strict";var n=i(9297),r=i(5031),s=i(7347),o=i(4913);e.exports=function(e,t,i){for(var a=r(t),d=o.f,c=s.f,u=0;u<a.length;u++){var l=a[u];n(e,l)||i&&n(i,l)||d(e,l,c(t,l))}}},7750:(e,t,i)=>{"use strict";var n=i(4117),r=TypeError;e.exports=function(e){if(n(e))throw new r("Can't call method on "+e);return e}},7751:(e,t,i)=>{"use strict";var n=i(4576),r=i(4901);e.exports=function(e,t){return arguments.length<2?(i=n[e],r(i)?i:void 0):n[e]&&n[e][t];var i}},7979:(e,t,i)=>{"use strict";var n=i(8551);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8014:(e,t,i)=>{"use strict";var n=i(1291),r=Math.min;e.exports=function(e){var t=n(e);return t>0?r(t,9007199254740991):0}},8227:(e,t,i)=>{"use strict";var n=i(4576),r=i(5745),s=i(9297),o=i(3392),a=i(4495),d=i(7040),c=n.Symbol,u=r("wks"),l=d?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return s(u,e)||(u[e]=a&&s(c,e)?c[e]:l("Symbol."+e)),u[e]}},8480:(e,t,i)=>{"use strict";var n=i(1828),r=i(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},8551:(e,t,i)=>{"use strict";var n=i(34),r=String,s=TypeError;e.exports=function(e){if(n(e))return e;throw new s(r(e)+" is not an object")}},8622:(e,t,i)=>{"use strict";var n=i(4576),r=i(4901),s=n.WeakMap;e.exports=r(s)&&/native code/.test(String(s))},8686:(e,t,i)=>{"use strict";var n=i(3724),r=i(9039);e.exports=n&&r(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8727:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:(e,t,i)=>{"use strict";var n=i(616),r=Function.prototype,s=r.apply,o=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(s):function(){return o.apply(s,arguments)})},8773:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);t.f=r?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},8981:(e,t,i)=>{"use strict";var n=i(7750),r=Object;e.exports=function(e){return r(n(e))}},9039:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},9225:(e,t,i)=>{"use strict";var n,r,s,o,a=i(4576),d=i(8745),c=i(6080),u=i(4901),l=i(9297),p=i(9039),m=i(397),h=i(7680),b=i(4055),g=i(2812),f=i(9544),v=i(6193),A=a.setImmediate,y=a.clearImmediate,w=a.process,C=a.Dispatch,S=a.Function,I=a.MessageChannel,B=a.String,P=0,k={},M="onreadystatechange";p(function(){n=a.location});var E=function(e){if(l(k,e)){var t=k[e];delete k[e],t()}},U=function(e){return function(){E(e)}},T=function(e){E(e.data)},z=function(e){a.postMessage(B(e),n.protocol+"//"+n.host)};A&&y||(A=function(e){g(arguments.length,1);var t=u(e)?e:S(e),i=h(arguments,1);return k[++P]=function(){d(t,void 0,i)},r(P),P},y=function(e){delete k[e]},v?r=function(e){w.nextTick(U(e))}:C&&C.now?r=function(e){C.now(U(e))}:I&&!f?(o=(s=new I).port2,s.port1.onmessage=T,r=c(o.postMessage,o)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!p(z)?(r=z,a.addEventListener("message",T,!1)):r=M in b("script")?function(e){m.appendChild(b("script"))[M]=function(){m.removeChild(this),E(e)}}:function(e){setTimeout(U(e),0)}),e.exports={set:A,clear:y}},9297:(e,t,i)=>{"use strict";var n=i(9504),r=i(8981),s=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(r(e),t)}},9306:(e,t,i)=>{"use strict";var n=i(4901),r=i(6823),s=TypeError;e.exports=function(e){if(n(e))return e;throw new s(r(e)+" is not a function")}},9309:(e,t,i)=>{"use strict";var n=i(6518),r=i(4576),s=i(9225).set,o=i(9472),a=r.setImmediate?o(s,!1):s;n({global:!0,bind:!0,enumerable:!0,forced:r.setImmediate!==a},{setImmediate:a})},9433:(e,t,i)=>{"use strict";var n=i(4576),r=Object.defineProperty;e.exports=function(e,t){try{r(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},9472:(e,t,i)=>{"use strict";var n,r=i(4576),s=i(8745),o=i(4901),a=i(4215),d=i(2839),c=i(7680),u=i(2812),l=r.Function,p=/MSIE .\./.test(d)||"BUN"===a&&((n=r.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));e.exports=function(e,t){var i=t?2:1;return p?function(n,r){var a=u(arguments.length,1)>i,d=o(n)?n:l(n),p=a?c(arguments,i):[],m=a?function(){s(d,this,p)}:d;return t?e(m,r):e(m)}:e}},9479:(e,t,i)=>{"use strict";var n=i(3724),r=i(2106),s=i(5213),o=i(7979);n&&!s.correct&&(r(RegExp.prototype,"flags",{configurable:!0,get:o}),s.correct=!0)},9504:(e,t,i)=>{"use strict";var n=i(616),r=Function.prototype,s=r.call,o=n&&r.bind.bind(s,s);e.exports=n?o:function(e){return function(){return s.apply(e,arguments)}}},9519:(e,t,i)=>{"use strict";var n,r,s=i(4576),o=i(2839),a=s.process,d=s.Deno,c=a&&a.versions||d&&d.version,u=c&&c.v8;u&&(r=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(r=+n[1]),e.exports=r},9544:(e,t,i)=>{"use strict";var n=i(2839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},9565:(e,t,i)=>{"use strict";var n=i(616),r=Function.prototype.call;e.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},9617:(e,t,i)=>{"use strict";var n=i(5397),r=i(5610),s=i(6198),o=function(e){return function(t,i,o){var a=n(t),d=s(a);if(0===d)return!e&&-1;var c,u=r(o,d);if(e&&i!=i){for(;d>u;)if((c=a[u++])!=c)return!0}else for(;d>u;u++)if((e||u in a)&&a[u]===i)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9848:(e,t,i)=>{"use strict";i(6368),i(9309)}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return r[e].call(i.exports,i,i.exports,o),i.exports}o.m=r,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"==typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"==typeof i.then)return i}var r=Object.create(null);o.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>i[e]);return s.default=()=>i,o.d(r,s),r},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,i)=>(o.f[i](e,t),t),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},n="@crazygames/ads:",o.l=(e,t,r,s)=>{if(i[e])i[e].push(t);else{var a,d;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==n+r){a=l;break}}a||(d=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",n+r),a.src=e),i[e]=[t];var p=(t,n)=>{a.onerror=a.onload=null,clearTimeout(m);var r=i[e];if(delete i[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach(e=>e(n)),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),d&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=i[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={792:0};o.f.j=(t,i)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var r=new Promise((i,r)=>n=e[t]=[i,r]);i.push(n[2]=r);var s=o.p+o.u(t),a=new Error;o.l(s,i=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,n[1](a)}},"chunk-"+t,t)}};var t=(t,i)=>{var n,r,[s,a,d]=i,c=0;if(s.some(t=>0!==e[t])){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(d)d(o)}for(t&&t(i);c<s.length;c++)r=s[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0},i=globalThis.webpackChunk_crazygames_ads=globalThis.webpackChunk_crazygames_ads||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";o(9479),o(9848);function e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class t{static getInstance(){return void 0===this.instance&&(this.instance=new t),this.instance}constructor(){e(this,"prebidFullyLoaded",!1);const t=window;t.pbjs=t.pbjs||{que:[]},t.pbjs.que=t.pbjs.que||[],t.pbjs.que.push(()=>{this.prebidFullyLoaded=!0})}getPbjsOrThrow(){if(!this.prebidFullyLoaded)throw new Error("Prebid is still loading");return window.pbjs}getPbjs(){if(this.prebidFullyLoaded)return this.getPbjsOrThrow()}getPbjsQueue(){return window.pbjs}}function i(){return t.getInstance().getPbjsQueue()}function n(){return t.getInstance().getPbjs()}function r(){return t.getInstance().getPbjsOrThrow()}e(t,"instance",void 0);class s{static getInstance(){return void 0===this.instance&&(this.instance=new s),this.instance}constructor(){e(this,"googletagFullyLoaded",!1);const t=window;t.googletag=t.googletag||{cmd:[]},t.googletag.cmd=t.googletag.cmd||[],t.googletag.cmd.push(()=>{this.googletagFullyLoaded=!0})}getGoogletagOrThrow(){if(!this.googletagFullyLoaded)throw new Error("googletag is still loading");return window.googletag}getGoogletag(){if(this.googletagFullyLoaded)return this.getGoogletagOrThrow()}getGoogletagCmd(){return window.googletag}}function a(){return s.getInstance().getGoogletagCmd()}function d(){return s.getInstance().getGoogletagOrThrow()}e(s,"instance",void 0);class c{static getInstance(){return void 0===this.instance&&(this.instance=new c),this.instance}constructor(){const e=window;function t(t,i){e.apstag._Q.push([t,i])}const i={init:function(){t("i",arguments)},fetchBids:function(){t("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){t("di",arguments)},rpa:function(){t("ri",arguments)},upa:function(){t("ui",arguments)},_Q:[]};e.apstag=e.apstag||i}getApstag(){return window.apstag}}function u(){return c.getInstance().getApstag()}e(c,"instance",void 0);class l{constructor(){const e=window;e.adsbygoogle=e.adsbygoogle||[]}static getInstance(){return void 0===this.instance&&(this.instance=new l),this.instance}getAdsenseWindow(){return window.adsbygoogle}}e(l,"instance",void 0);function p(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m=new class{constructor(){p(this,"debugEnabled",void 0),this.debugEnabled=this.isDebugEnabled()}debug(e){if(this.debugEnabled){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.log(e,...i)}}log(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.log(e,...i)}warn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.warn(e,...i)}error(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.error(e,...i)}isDebugEnabled(){return!(window.location.search.indexOf("raf_debug=true")<0)}},h=m;function b(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const g=class{constructor(){b(this,"initialized",!1),b(this,"disabledBidder",null),b(this,"gamKeys",void 0),b(this,"actualCandidates",[]),this.gamKeys={appnexus:"appnexus_disabled",appnexus_server:"appnexus_s2s_dis",ix:"ix_disabled",ix_server:"ix_s2s_dis",pubmatic:"pubmatic_disabled",pubmatic_server:"pubmatic_s2s_dis",rubicon:"rubicon_disabled",rubicon_server:"rubicon_s2s_dis",sharethrough:"st_disabled",sharethrough_server:"st_s2s_dis",rise:"rise_disabled",rise_server:"rise_s2s_dis",amazon:"amazon_disabled",iionads:"iion_disabled",venatus:"venatus_disabled",stroeerCore:"stroeer_disabled",mediafuse:"mediafuse_disabled",webads:"webads_disabled",goldbach:"goldbach_disabled",beintoo:"beintoo_disabled",seedtag:"seedtag_disabled",ozone:"ozone_disabled",connatix:"jwpconnatix_disabled",invibes:"invibes_disabled",ttd:"ttd_disabled",alkimi:"alkimi_disabled",adf:"adform_disabled",sovrn:"sovrn_disabled",nexx360:"nexx360_disabled"}}init(){if(this.initialized)return;this.initialized=!0;const e=this.getCandidates(),t=.005*e.length;if(Math.random()<t){const t=e[Math.floor(Math.random()*e.length)];this.disabledBidder=t}h.debug(`Incremental bidder test initialized with disabled bidder: ${this.disabledBidder}`)}isBidderDisabled(e){return this.disabledBidder===e}addToActualCandidates(e){this.getCandidates().includes(e)&&this.actualCandidates.push(e)}getGamKeys(){return this.initialized?this.actualCandidates.reduce((e,t)=>({...e,[this.gamKeys[t]]:`${this.isBidderDisabled(t)}`}),{}):{}}getCandidates(){return Object.keys(this.gamKeys)}};var f=o(7282);function v(e,t){for(const i of t)if(i.bidder===e)return i;return null}function A(e){return f.bz.some(t=>e===t)}function y(e){return f.zV.some(t=>e===t)}function w(){return[...f.M_]}var C=o(2896);function S(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class I{constructor(e,t){this.code=e,S(this,"config",void 0);const{rules:i,...n}=_.getBidderConfig(e)||{};this.config={...{cost:0,discrepancy:0,...n},...t},this.logConfig(this.config)}setBidding(e,t,i,n){const r=i||this.defaultConfig(),s=this.getBidderSettings(r,t);this.isBidderEnabledForUnit(t,s,n)?(i||h.warn(`[${this.code}] missing request unit config, bravely continuing with default config`),this.checkSettings(s,t),this.createBidsForUnit(e,t,s,n)):h.debug(`[${this.code}] disabled for unit ${t.code()}`)}isPrebidBidder(){return!1}getConfig(){return{...this.config}}checkVideoSettings(e,t){}checkBannerSettings(e,t){}checkSettings(e,t){t.checkBidderSettings(e,this)}getBidderSettings(e,t){return Object.assign({},this.config,e)}warn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];h.warn(`[${this.code}Bidder] ${e}`,...i)}warnIfNotSet(e,t){null!=t&&""!==t||this.warnWrongVariable(e,t)}warnWrongVariable(e,t){this.warn(`${e} incorrectly set`,t)}isNumber(e){return"number"==typeof e&&!isNaN(e)}isBidderEnabledForUnit(e,t,i){const{enabled:n}=t;return n?_.isBidderEnabledForSession(this.code,i.clientInfo,e.isBanner()?"banner":"video"):(h.debug(`bidder ${this.code} not enabled because of ads request config`),!1)}defaultConfig(){return{bidder:this.code}}logConfig(e){h.debug(`[${this.code}] ${JSON.stringify(e)}`)}}function B(e){const t=e.regions??{},i=Object.entries(e.bidders).reduce((e,i)=>{let[n,r]=i;return"comment"===n||(e[n]=function(e,t){return{rules:e.rules.map(i=>P(i,e.cost,e.discrepancy,t))}}(r,t)),e},{});return f.M_.forEach(e=>{(0,C.O9)(i[e])||(h.error(`Bidder config for ${e} not found. Disabling for this session.`),i[e]={rules:[z()]})}),i}function P(e,t,i,n){return{enabled:e.enabled,gamKey:e.gamKey,cost:k(e.cost,t,0),discrepancy:k(e.discrepancy,i,0),conditions:(0,C.O9)(e.conditions)?{country:M(e.conditions,n),adFormat:e.conditions.adFormat,browser:e.conditions.browser,device:e.conditions.device,locale:e.conditions.locale}:void 0}}function k(e,t,i){return(0,C.O9)(e)?e:(0,C.O9)(t)?t:i}function M(e,t){const i=new Set;if((0,C.O9)(e.country)&&e.country.forEach(e=>i.add(e)),(0,C.O9)(e.region))for(const n of e.region){const e=t[n];(0,C.O9)(e)&&e.countries.forEach(e=>i.add(e))}if((0,C.O9)(e.partialRegion))for(const n of e.partialRegion){const e=t[n.region];(0,C.O9)(e)&&e.countries.filter(e=>!n.excluded_countries.includes(e)).forEach(e=>i.add(e))}if(0!==i.size)return[...i]}function E(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const U=["RU","VE","BY"];class T{constructor(){E(this,"sessionBidderConfig",{}),E(this,"incrementalBidderTest",void 0),this.incrementalBidderTest=new g,this.incrementalBidderTest.init()}getBidderConfig(e){return this.sessionBidderConfig[e]}setBidderConfig(e,t){this.sessionBidderConfig[e]={...t}}addToIncrementalBidderTest(e){this.incrementalBidderTest.addToActualCandidates(e)}disabledInIncrementalBidderTest(e){const t=this.incrementalBidderTest.isBidderDisabled(e);return t&&h.debug(`Incremental bidder test disabling ${e}.`),t}getIncrementalBidderGamKeys(){return this.incrementalBidderTest.getGamKeys()}getKVs(){return Object.values(this.sessionBidderConfig).filter(e=>void 0!==e.gamKey).reduce((e,t)=>{let{gamKey:i,enabled:n}=t;return{...e,[i]:`${n}`}},{})}}function z(){return{enabled:0,cost:0,discrepancy:0}}const x=new class{constructor(){E(this,"config",null),E(this,"sessionBidderConfig",{})}setBidderConfigInput(e){this.config=B(e)}getBidderConfig(e){if(!this.config)throw new Error("Bidder config not loaded");return this.config[e]}isBidderEnabledForSession(e,t,i){return this.retrieveCachedBidderConfig(e,t,i).enabled}getBidderCostForSession(e,t,i){return this.retrieveCachedBidderConfig(e,t,i).cost}getBidderDiscrepancyForSession(e,t,i){return this.retrieveCachedBidderConfig(e,t,i).discrepancy}retrieveCachedBidderConfig(e,t,i){const n=this.getSessionConfig(i),r=n.getBidderConfig(e);if((0,C.O9)(r))return r;const s=this.calculateBidderConfig(e,n,t,i);return n.setBidderConfig(e,s),s}calculateBidderConfig(e,t,i,n){const r=this.getBidderConfig(e).rules;this.logWarningIfMissingSessionInfo(i,e);const{enabled:s,gamKey:o,cost:a,discrepancy:d}=this.getApplicableRule(r,i,n,e);if(window.location.search.includes(`${e}_enabled`))return h.debug(`Force enabling bidder ${e} for this session through query param.`),{probability:1,enabled:!0,cost:a,discrepancy:d};if(window.location.search.includes("enable_all_server_bidders")&&y(e))return h.debug(`Force enabling server bidder ${e} for this session through query param.`),{probability:1,enabled:!0,cost:a,discrepancy:d};if(window.location.search.includes("disable_all_bidders"))return h.debug(`Force disabling bidder ${e} for this session because the query param to disable all bidders is set, and the bidder is not force enabled.`),{probability:1,enabled:!1,cost:a,discrepancy:d};let c;return 1===s?(t.addToIncrementalBidderTest(e),c=!t.disabledInIncrementalBidderTest(e)):c=Math.random()<s,h.debug(`Bidder ${e} is ${c?"enabled":"disabled"} with probability ${s} for ${n}s.`),{probability:s,enabled:c,gamKey:o,cost:a,discrepancy:d}}getApplicableRule(e,t,i,n){if((0,C.O9)(t.country)){const{country:e}=t;if(U.includes(e))return z()}const r=t.country??"US",s=t.device??"desktop",o=t.locale,a=t.browser;for(const t of e){if(!t.conditions)return t;const{country:e,locale:n,browser:d,device:c,adFormat:u}=t.conditions;if((!e||e.includes(r))&&((!n||!o||n.includes(o))&&(!d||!a||d.includes(a))&&(!c||c.includes(s))&&(!u||u.includes(i))))return t}return h.error(`No rule applies for bidder ${n} with config ${JSON.stringify(t)} and ad format ${i}. Disabling for safety.`),z()}getIncrementalBidderGamKeys(e){return this.getSessionConfig(e).getIncrementalBidderGamKeys()}getSessionKVs(e){return this.getSessionConfig(e).getKVs()}getSessionConfig(e){return this.sessionBidderConfig[e]||(this.sessionBidderConfig[e]=new T),this.sessionBidderConfig[e]}logWarningIfMissingSessionInfo(e,t){if("google"===t)return;const i=[];e.country||i.push("country"),e.device||i.push("device"),e.locale||i.push("locale"),e.browser||i.push("browser"),i.length>0&&h.warn(`Missing session info: ${i.join(", ")}.`)}resetSessionBidderConfig(){h.warn("Resetting session bidder config. This should only be used for testing purposes.");for(const e of Object.getOwnPropertyNames(this.sessionBidderConfig))delete this.sessionBidderConfig[e]}},_=x,R=JSON.parse('{"configApiUrl":"https://api.crazygames.com/v3/en_US/configv2"}');function F(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class O{constructor(){F(this,"analyticsEventHandler",void 0),F(this,"eventQueue",[])}static getInstance(){return O.instance||(O.instance=new O),O.instance}init(e){const t=e.analyticsEventHandler;t?(this.analyticsEventHandler=t,this.eventQueue.length>0&&(this.eventQueue.forEach(e=>this.analyticsEventHandler(e)),this.eventQueue=[])):h.warn("[CrazyAnalyticsService] analyticsEventHandler not set")}sendAdsConfigLoadFailedEvent(e){this.sendEvent({type:"adsConfigLoadFailed",reason:e.reason})}sendInternalAdErrorEvent(e,t,i){const n={type:"adsInternalError",severity:e,subtype:t,reason:i};let r=!0;"prebid"===n.subtype&&(r=this.shouldSendPrebidErrorEvent(n)),r&&this.sendEvent(n)}shouldSendPrebidErrorEvent(e){if("warning"===e.severity){if(e.reason.includes("bidderSettings.*.storageAllowed denied 'accessDevice' for 'bidder."))return!1;if(e.reason.includes("config not defined, exiting consent manager module")&&e.reason.includes("consentManagement"))return!1;if(e.reason.includes("TCF2: enforcing P1 and P2 by default"))return!1;if(e.reason.includes("TCF2 denied"))return!1;if(e.reason.includes("Skipping GZIP compression for ")&&e.reason.includes("as debug mode is enabled"))return!1;if(e.reason.includes("is loading external javascript"))return!1}return!0}getEventQueue(){return this.eventQueue}async sendEvent(e){if(!this.analyticsEventHandler)return h.warn("[CrazyAnalyticsService] analyticsEventHandler not set"),this.eventQueue.length>=10?void h.warn("[CrazyAnalyticsService] event queue is full, dropping event",e):void this.eventQueue.push(e);h.debug("[CrazyAnalyticsService] forwarding event",e),this.analyticsEventHandler(e)}}F(O,"instance",void 0);const N=O;let j;function L(){return j||.8489101267337928}function q(e){return e instanceof Error?e.message??e.toString():`Unknown error ${JSON.stringify(e)}`}const G={bidders:{ix:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0,conditions:{country:["CN"]}},{enabled:1}],discrepancy:.07},adf:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:.5,conditions:{country:["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","GB","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","US","CA"]}},{enabled:0}]},ttd:{cost:.018,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:1}],discrepancy:.1},rise:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:1,conditions:{country:["US","CA","GB","DE","AU","NL","BE","ES","IT","FR","SE","FI","NO","DK","CH","IE","AT"]}},{enabled:0}],discrepancy:.045},ozone:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:1}],discrepancy:.065},sovrn:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}]},alkimi:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0,conditions:{country:["GB"]}},{enabled:0}]},amazon:{rules:[{comment:"Only enable Amazon in key countries",enabled:1,conditions:{country:["US","GB","DE","CA","FR","SE","AU","NL","MX","NZ","SG","IT","NO","BE"]}},{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}],discrepancy:.04},google:{rules:[{enabled:1}]},webads:{cost:.35,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}],discrepancy:.24},adsense:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:1}]},beintoo:{cost:.3,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0,conditions:{country:["DE","ES","IT"]}},{enabled:0}],discrepancy:.04},iionads:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0,conditions:{country:["NZ","AU","IN","PH","JP","MY","TH","SG","NL","BH","QA","OM","KW","SA","AE"]}},{enabled:0}],discrepancy:.065},invibes:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:1,conditions:{country:["NL","DE","AE"]}},{enabled:.4,conditions:{country:["US","GB"]}},{enabled:0}]},nexx360:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:1}]},rubicon:{cost:0,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0,conditions:{country:["RO","CR","SK","VE","KW","KE","QA","UA","BO","EE","PA","SN","EG","PR","HR","MA","LT","OM","GE","NG","HN","BG","JM","JO","LV","TT","BH","BW","SV","NI","CI","MK","GU","LU","BS","PY","AL","CY","IR","LB","BA","LK","AM","KH","GH","CN","PS","DZ","KZ","GY","TZ","UZ","MD","KY","RW","ZM","BM","MM","NP","AS","NA","MU","ZW","CG","IQ","MO","UG","MP","ET","BY","BB","LC","MV","SR","TM","KG","AO","IM","BN","BT","AX","BZ","SY","DM","GP","GW","GM","AI","AW","MZ","SD","CW","ME","MG","BQ","RE","VC","VI","MC","PG","LA","AG","MN","MQ","KN","GG","GD","NE","CD","SC","SX","GF","NC","AD","MW","LY","FJ","VG","NU","CU","SM","SL","PF","HT","JE","AF","FO","GA","LI","SZ","SS","GL","GN","GI","CM","MR","LS","TG","YT","SO","DJ","TC","CV","LR","VA","BF","TJ","BI","TL","FM","BJ","ML","MS","YE","CF","SB","MF","CK","TD","BL","PM","KM","TO","VU","WS","FK","WF","ST","GQ","NF","PW","KI","MH","CO","AZ","AR","DO","PE","GT","TR","EC"]}},{enabled:1}],discrepancy:.11},seedtag:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:.01,conditions:{adFormat:["video"]}},{enabled:1}],discrepancy:.12},venatus:{cost:.3,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:1,conditions:{country:["US","GB","CA","FR","IT","ES","DE","TW","PE","BE","GR","MX","IE"]}},{enabled:0}],discrepancy:.015},appnexus:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0,conditions:{country:["UA","BY","VE","LB","BA","MK","IQ","ZW","ME","TM","PF","TJ","LY","SO","GP","AX","YE","AD","CD","MC","GA","DZ","IN","ID","PK"]}},{enabled:1}],discrepancy:.03},connatix:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}],discrepancy:.02},goldbach:{cost:.3,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:1,conditions:{country:["CH"]}},{enabled:0}],discrepancy:.12},pubmatic:{cost:0,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0,conditions:{country:["AF","AX","AL","DZ","AD","AM","AZ","BD","BY","BO","BA","BG","CN","CR","CD","DO","EC","EG","SV","PF","GA","GR","GP","GT","HN","IQ","KZ","LV","LB","LY","MK","MD","MC","ME","MA","NP","PK","PA","PY","PE","PT","RS","SO","LK","TJ","TT","TR","TM","UA","UY","VE","VN","YE","ZW","IN","HK"]}},{enabled:1}],discrepancy:.05},ix_server:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}]},mediafuse:{cost:.2,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:.5,conditions:{country:["US","CA","GB","AU"],adFormat:["video"]}},{enabled:1,conditions:{country:["US","CA","GB","AU"]}},{enabled:0}],discrepancy:.09},rise_server:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}]},stroeerCore:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:1,conditions:{country:["DE","AT","CH"]}},{enabled:0}],discrepancy:0},sharethrough:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0,conditions:{country:["CO"]}},{enabled:1}],discrepancy:.03},rubicon_server:{cost:0,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}]},appnexus_server:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}]},pubmatic_server:{cost:0,rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}]},sharethrough_server:{rules:[{comment:"We disable all video ads for India, apart from Google",enabled:0,conditions:{country:["IN"],adFormat:["video"]}},{enabled:0}]}}};function D(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function V(){return R.configApiUrl}const W=new class{constructor(){D(this,"loaded",!1),D(this,"success",null),D(this,"resolvers",[])}waitTillLoaded(){return this.loaded?this.success?Promise.resolve():Promise.reject(new Error("Config failed to load")):new Promise((e,t)=>{this.resolvers.push({resolve:e,reject:t})})}async fetchConfig(){const e=V();try{const t=await fetch(e);if(!t.ok)throw h.error("[configLoader] fetchConfig - response not ok",t),new Error(`Network response was not ok: ${JSON.stringify(t)}`);const i=await t.json();this.setConfig(i)}catch(e){h.error("[configLoader] fetchConfig - error fetching config. Using fallback config",e),N.getInstance().sendAdsConfigLoadFailedEvent({reason:q(e)}),this.setConfig({config:G,dollarRate:L()})}}setConfig(e){var t;t=e.dollarRate,j=t,_.setBidderConfigInput(e.config),this.loaded=!0,this.success=!0,this.resolvers.forEach(e=>{let{resolve:t}=e;return t()}),this.resolvers=[],h.debug(`[configLoader] Set bidder config and dollar rate (${e.dollarRate}). Resolving ${this.resolvers.length} waiting promises`)}},$={advertising:{bidders:Object.values({rubicon:{bidder:"rubicon",accountId:"16980",siteId:"152672"},rubicon_server:{bidder:"rubicon_server",accountId:"16980",siteId:"152672"},appnexus:{bidder:"appnexus"},appnexus_server:{bidder:"appnexus_server"},ix:{bidder:"ix"},ix_server:{bidder:"ix_server"},pubmatic:{bidder:"pubmatic",publisherId:"156561"},pubmatic_server:{bidder:"pubmatic_server",publisherId:"156561"},amazon:{bidder:"amazon",pubID:"9e9bffbc-66c5-4b5b-89aa-4d839e05ce3a",adServer:"googletag"},adsense:{bidder:"adsense",client:"ca-pub-8415986145297288"},sharethrough:{bidder:"sharethrough"},sharethrough_server:{bidder:"sharethrough_server"},venatus:{bidder:"venatus",AV_PUBLISHERID:"5f2063121d82c82557194737"},rise:{bidder:"rise",org:"62a8b3133e1cca000167166d"},rise_server:{bidder:"rise_server",org:"62a8b3133e1cca000167166d"},mediafuse:{bidder:"mediafuse"},iionads:{bidder:"iionads"},webads:{bidder:"webads"},seedtag:{bidder:"seedtag",publisherId:"1497-2859-01"},beintoo:{bidder:"beintoo"},goldbach:{bidder:"goldbach"},google:{bidder:"google"},stroeerCore:{bidder:"stroeerCore"},ozone:{bidder:"ozone",siteId:"1500000645",publisherId:"OZONECG00001"},connatix:{bidder:"connatix",placementId:"ab4dcfe6-6fa4-4a9c-901b-51f46809c141"},invibes:{bidder:"invibes",placementId:"invibes_crazygames",customEndpoint:"https://prebid.videostep.com/Bid/VideoAdContent"},ttd:{bidder:"ttd",supplySourceId:"direct9hdbp5v4",publisherId:"1"},alkimi:{bidder:"alkimi",token:"0c1a4f40-286f-4401-a86d-4fe375e160c7"},adf:{bidder:"adf"},sovrn:{bidder:"sovrn"},nexx360:{bidder:"nexx360"}}),server:{endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync",accountId:"a37f9415-13c7-4a3a-abae-9c18699ec8ff"}},houseAds:{advertiserIds:[134924547]}},H=$.houseAds;function K(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}async function Z(e){return new Promise((t,i)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=()=>i(new Error(`Failed to load ${e}`)),n.onload=()=>t(),document.head.appendChild(n)})}class J{constructor(e){K(this,"scriptName",void 0),K(this,"loaderPromise",null),this.scriptName=e}async loadIfNeeded(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||await this.shouldLoad()?this.load():Promise.resolve()}load(){if((0,C.O9)(this.loaderPromise))return this.loaderPromise;const e=this.getScriptLocation();return this.loaderPromise=Z(e).catch(e=>{throw h.error(`[LoadScript] ${this.scriptName} failed to load (${q(e)})`,e),e}),this.loaderPromise}}const Q=new class extends J{constructor(){super("Adsense")}getScriptLocation(){return"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"}async shouldLoad(){return!0}};const Y=function(){const e="prod";switch(e){case void 0:case null:return"localhost";case"dev":return"dev";case"prod":return"prod";default:return m.warn("APP_STAGE is misconfigured",e),"prod"}}();var X=o(5606),ee=o.n(X),te=o(2206);function ie(e){if(!e)return!0;const t=oe(e);return!(0,C.O9)(t)||t.gdprApplicable}function ne(e){return!(0,C.O9)(e)||"US"===e}let re,se;function oe(e){if(!(0,C.O9)(re)){const e={};te.z.forEach(t=>e[t.isoCode]=t),re=e}return re[e]}function ae(e){return ne(e)?"GPP":ie(e)?"TCF":"None"}function de(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ce extends J{static getInstance(e){return void 0===se&&(se=new ce(e)),se}constructor(e){super("apstag"),de(this,"country",void 0),this.country=e}baseDomain(){switch(Y){case"dev":return"https://rafvertizing.dev-crazygames.be";case"localhost":return ee().env.BASE_URL;default:return"https://fafvertizing.crazygames.com"}}getScriptLocation(){return(0,C.O9)(this.country)&&"GPP"===ae(this.country)?`${this.baseDomain()}/custom_apstag.js`:"//c.amazon-adsystem.com/aax2/apstag.js"}async shouldLoad(){return!0}}const ue=function(e){return e instanceof Function};const le=new class extends J{constructor(){super("GoogleTag")}async shouldLoad(){return!this.isGoogleTagDefined()}getScriptLocation(){return"https://securepubads.g.doubleclick.net/tag/js/gpt.js"}isGoogleTagDefined(){const e=s.getInstance().getGoogletag();return void 0!==e&&ue(e.pubads)&&ue(e.pubads().getSlots)}},pe="li-module-enabled",me="amazon_pf_exp_4_24",he="hadron_exp_24",be="liveramp_enabled",ge="uid2_exp",fe=[pe,me,he,be,ge],ve={[pe]:{defaultValue:"false",key:pe,options:[{chance:.95,value:"true"}]},[me]:{defaultValue:"false",key:me,options:[{chance:0,value:"true"}]},[he]:{defaultValue:"false",key:he,options:[{chance:0,value:"true"}]},[be]:{defaultValue:"false",key:be,options:[{chance:1,value:"true"}]},[ge]:{defaultValue:"false",key:ge,options:[{chance:1,value:"true"}]}};const Ae=new class extends J{constructor(){super("Liveramp")}getScriptLocation(){return"https://ats-wrapper.privacymanager.io/ats-modules/f335ec38-f1f6-423b-8091-fe87576411ae/ats.js"}async shouldLoad(){return!0}};function ye(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class we{constructor(){ye(this,"data",void 0),this.data={},this.clear()}setItem(e,t){this.data[e]=String(t)}getItem(e){return this.data.hasOwnProperty(e)?this.data[e]:void 0}removeItem(e){delete this.data[e]}clear(){this.data={}}}class Ce{constructor(){ye(this,"storage",void 0),this.storage=this.getAvailableStorage()}static get Instance(){return this._instance?this._instance:this._instance=new this}getItem(e){return this.storage.getItem(e)}setItem(e,t){this.storage.setItem(e,t)}removeItem(e){this.storage.removeItem(e)}clear(){return this.storage.clear()}isFunctioningStorage(e){try{const t=`__AdsSafeLocalStorage__${Date.now()}`,i="test";return e.setItem(t,i),e.getItem(t)!==i?!1:(window.localStorage.removeItem(t),!0)}catch{return!1}}getAvailableStorage(){try{return this.hasWorkingLocalStorage()?(h.debug("[SafeLocalStorage] using localStorage"),window.localStorage):this.hasWorkingSessionStorage()?(h.debug("[SafeLocalStorage] fallback to sessionStorage"),window.sessionStorage):(h.warn("[SafeLocalStorage] fallback to InMemoryStorage"),new we)}catch{return h.warn("[SafeLocalStorage] fallback to InMemoryStorage"),new we}}hasWorkingLocalStorage(){try{if(!window.hasOwnProperty("localStorage"))return!1;const{localStorage:e}=window;return this.isFunctioningStorage(e)}catch{return!1}}hasWorkingSessionStorage(){try{if(!window.hasOwnProperty("sessionStorage"))return!1;const{sessionStorage:e}=window;return this.isFunctioningStorage(e)}catch{return!1}}}function Se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}ye(Ce,"_instance",void 0);class Ie{static getInstance(){return void 0===this.instance&&(this.instance=new Ie(void 0,void 0)),this.instance}constructor(e,t){Se(this,"experimentSetups",void 0),Se(this,"experiments",void 0),Se(this,"getExperiments",()=>{if(!(0,C.O9)(this.experiments)){let e;for(e in this.experiments={},this.experimentSetups){const t=this.experimentSetups[e];this.experiments[e]=t.isEnabled()}}return this.experiments}),Se(this,"onUserEmailChanged",e=>{for(const t of fe)this.experimentSetups[t].onUserEmailChanged(e);this.experiments=void 0}),Se(this,"onCountryChanged",e=>{for(const t of fe)this.experimentSetups[t].onCountryChanged(e);this.experiments=void 0}),this.experimentSetups={[pe]:new ke(pe),[me]:new Pe(me),[he]:new Pe(he),[be]:new Me(be),[ge]:new Ee(ge)},Object.values(this.experimentSetups).forEach(i=>i.init(e,t))}}Se(Ie,"instance",void 0);class Be{constructor(e){Se(this,"experimentName",void 0),Se(this,"enabled",!1),Se(this,"email",void 0),Se(this,"country",void 0),this.experimentName=e}init(e,t){this.email=e,this.country=t,this.enabled=this.calculateEnabledState()}isEnabled(){return this.enabled}onCountryChanged(e){this.country=e,this.enabled=this.calculateEnabledState()}onUserEmailChanged(e){this.email=e,this.enabled=this.calculateEnabledState()}calculateEnabledState(){const e=Ue.getInstance().getExperimentValue(this.experimentName),t="true"===e.value;return e.forced?t:t&&this.areConditionsMet(this.email,this.country)}getEmail(){return this.email}getCountry(){return this.country}}class Pe extends Be{constructor(e){super(e)}areConditionsMet(e,t){return!0}}class ke extends Be{constructor(e){super(e)}init(e,t){super.init(e,t),this.updateFlagOnWindow()}onCountryChanged(e){super.onCountryChanged(e),this.updateFlagOnWindow()}updateFlagOnWindow(){(this.isEnabled()||window?.liModuleEnabled)&&(window.liModuleEnabled=this.isEnabled())}areConditionsMet(e,t){return ne(t)||"CA"===t}}class Me extends Be{constructor(e){super(e),Se(this,"loaderPromise",void 0),Se(this,"emailStored",!1),Se(this,"envelopeModuleReady",!1),Se(this,"onEnvelopeModuleReady",()=>{this.envelopeModuleReady=!0,this.storeEmailOnWindow(),window.removeEventListener("envelopeModuleReady",this.onEnvelopeModuleReady)})}init(e,t){super.init(e,t),this.setupLoaderPromise(),this.storeEmailOnWindow()}areConditionsMet(e,t){return!(0,C.O9)(t)||["US","CA","MX","JP","HK","AU","NZ","ID","SG","AR","TW"].includes(t)}onCountryChanged(e){super.onCountryChanged(e),this.setupLoaderPromise()}onUserEmailChanged(e){super.onUserEmailChanged(e),this.storeEmailOnWindow()}setupLoaderPromise(){this.isEnabled()&&!(0,C.O9)(this.loaderPromise)&&(window.addEventListener("envelopeModuleReady",this.onEnvelopeModuleReady),this.loaderPromise=Ae.loadIfNeeded().catch(()=>{}))}storeEmailOnWindow(){const e=this.getEmail();!this.emailStored&&(0,C.O9)(this.loaderPromise)&&(0,C.O9)(e)&&this.envelopeModuleReady&&(this.emailStored=!0,this.loaderPromise.then(()=>{window.ats.setAdditionalData({type:"email",id:e})}))}}class Ee extends Be{constructor(e){super(e)}areConditionsMet(e,t){return!function(e){if(!e)return!0;const t=oe(e);return!(0,C.O9)(t)||t.euMember}(t)&&!("GB"===t)&&(0,C.O9)(e)}}class Ue{static getInstance(){return Ue.instance||(Ue.instance=new Ue),Ue.instance}constructor(){Se(this,"experiments",{});for(const e of fe){const t=this.fetchExperimentValue(e);this.experiments[e]=t,t.forced||Ce.Instance.setItem(e,t.value),h.debug(`[Experiments] ${e}: ${t.value}`)}}getExperimentValue(e){return this.experiments[e]}fetchExperimentValue(e){const t=this.getForcedExperimentValue(e);if(null!=t)return{value:t,forced:!0};const i=Ce.Instance.getItem(e);if(null!=i)return{value:i};const n=ve[e];let r=Math.random();for(const e of n.options){const{chance:t,value:i}=e;if(r<t)return{value:i};r-=t}return{value:n.defaultValue}}getForcedExperimentValue(e){const t=window.location.search,i=new URLSearchParams(t).get(`${e}`);if(i)return i}}Se(Ue,"instance",void 0);const Te="rafvertizing-v12-prebid-v9.js";function ze(e){switch(e){case pe:case me:case he:case be:case ge:return Te}}const xe=new class extends J{constructor(){super("Prebid")}getScriptLocation(){const e=this.baseDomain();let t=Te;for(const e of fe)if(Ie.getInstance().getExperiments()[e]){const i=ze(e);if(i!==Te){t=i;break}}return`${e}/${t}`}async shouldLoad(){return!this.isPrebidLoaded()}isPrebidLoaded(){const e=window;return e.pbjs&&e.pbjs.libLoaded}baseDomain(){switch(Y){case"dev":return"https://rafvertizing.dev-crazygames.be";case"localhost":return ee().env.BASE_URL;default:return"https://fafvertizing.crazygames.com"}}};function _e(e){return(0,C.O9)(e.adUnit.mediaTypes.banner)}function Re(e){return(0,C.O9)(e.adUnit.mediaTypes.video)}function Fe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Oe{constructor(e){let{apiName:t,apiVersion:i,apiArgs:n=["command","callback","version"],callbackArgs:r=["returnValue","success"]}=e;Fe(this,"win",window),Fe(this,"apiName",void 0),Fe(this,"apiVersion",void 0),Fe(this,"apiArgs",void 0),Fe(this,"callbackArgs",void 0),Fe(this,"callName",void 0),Fe(this,"returnName",void 0),Fe(this,"cmpCallbacks",{}),Fe(this,"eventCallbacks",{}),this.apiName=t,this.apiVersion=i,this.apiArgs=n,this.callbackArgs=r,this.callName=`${t}Call`,this.returnName=`${t}Return`}installLocator(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(window[this.apiName])return Promise.resolve();return t>=e?Promise.resolve():((()=>{const{cmpFrame:e}=this.findLocatorFrame();e&&this.setupCMPWhileInIframe(e)})(),window[this.apiName]?Promise.resolve():new Promise(i=>{window.setTimeout(async()=>{await this.installLocator(e,t+1),i()},50)}))}findLocatorFrame(){let e,t=window;for(;!e;){try{if(t.frames[`${this.apiName}Locator`]){e=t;break}}catch{}if(t===window.top)break;t=t.parent}return{cmpFrame:e}}setupCMPWhileInIframe(e){var t=this;window[this.apiName]=function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];const s=Math.random()+"",o=t.apiArgs.reduce((e,t,i)=>(e[t]=n[i],e),{version:t.apiVersion,callId:s}),a=o.callback,d=Object.fromEntries(Object.entries(o).filter(e=>{let[t,i]=e;return"callback"!==t})),c={[t.callName]:d};if(void 0!==a){const e=o.command;if("addEventListener"===e)t.cmpCallbacks[s]=(e,i)=>{a(e,i),t.cmpCallbacks[s]=a;const n=e.listenerId;t.eventCallbacks[n]=(t.eventCallbacks[n]||[]).concat(s)};else if("removeEventListener"===e){const e=o.parameter;if(e){(t.eventCallbacks[e]||[]).forEach(e=>{delete t.cmpCallbacks[e]}),delete t.eventCallbacks[s],t.cmpCallbacks[s]=a}}else t.cmpCallbacks[s]=a}e.postMessage(c,"*")},this.win.addEventListener("message",e=>this.readPostMessageResponse(e),!1)}readPostMessageResponse(e){const t="string"==typeof e.data&&e.data.includes(this.returnName)?JSON.parse(e.data):e.data;if(t?.[this.returnName]?.callId){const e=t[this.returnName];try{if(this.cmpCallbacks.hasOwnProperty(e.callId)&&void 0!==this.cmpCallbacks[e.callId]){const t=this.cmpCallbacks[e.callId];delete this.cmpCallbacks[e.callId],t(...this.callbackArgs.map(t=>e[t]))}}catch{}}}}const Ne=function(){const e=new Oe({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]}),t=new Oe({apiName:"__gpp",apiVersion:1,apiArgs:["command","callback","parameter","version"]});return Promise.all([e.installLocator(5),t.installLocator(5)])};const je=function(e,t){return new Promise((i,n)=>{window.setTimeout(()=>{i(t)},e)})};var Le=o(5606);const qe="prebid.js";async function Ge(){try{await Z(function(){switch(Y){case"dev":return`https://rafvertizing.dev-crazygames.be/${qe}`;case"prod":return`https://rafvertizing.crazygames.com/${qe}`;case"localhost":return`${Le.env.BASE_URL}/${qe}`;default:return h.warn("[HasAdblock] Invalid environment",Y),`https://rafvertizing.crazygames.com/${qe}`}}())}catch(e){return h.debug('[Adblock] Adblock detected (our "prebid" failed to load)',e),!0}try{const e=!document.getElementById("AZJUSpftxLwH");return e&&h.debug("[Adblock] Adblock detected (no div)"),e}catch{return h.debug("[Adblock] Adblock detected"),!0}}let De;const Ve=async function(){return De&&!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])||(De=Promise.race([Ge(),je(250,!1)])),await De};const We=new class extends J{constructor(){super("blockthrough")}getScriptLocation(){return"https://btloader.com/tag?o=5635927334453248&upapi=true"}async shouldLoad(){return await Ve()}};function $e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class He{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];$e(this,"_amountInCents",void 0),$e(this,"_amountInUnits",void 0),$e(this,"_currency",void 0),$e(this,"compareTo",e=>this.asCents(this._currency)-e.asCents(this._currency)),$e(this,"isGt",e=>this.compareTo(e)>0),$e(this,"isGte",e=>this.compareTo(e)>=0),$e(this,"isLt",e=>this.compareTo(e)<0),$e(this,"isLte",e=>this.compareTo(e)<=0),$e(this,"isEq",e=>0===this.compareTo(e)),$e(this,"isGreaterThanZero",()=>this._amountInCents>0),$e(this,"createCopyWithAdjustedAmount",e=>new He(e(this._amountInCents),this._currency,!0)),this._currency=t,this._amountInCents=Qe(i,!0)(e),this._amountInUnits=Qe(i,!1)(e)}get currency(){return this._currency}asUnits(e){return Je(this._currency,e)(this._amountInUnits)}asCents(e){return Je(this._currency,e)(this._amountInCents)}}function Ke(e){return new He(0,e??"EUR",!1)}function Ze(e,t){if(e.length<=0)return t;if(1===e.length)return e[0];const i=[...e];return i.sort(it(e=>e,"HIGH_TO_LOW")),i[0]}function Je(e,t){switch(e){case"EUR":switch(t){case"EUR":return e=>e;case"USD":return et}break;case"USD":switch(t){case"EUR":return tt;case"USD":return e=>e}}}function Qe(e,t){return e===t?e=>e:e?Xe:Ye}function Ye(e){return 100*e}function Xe(e){return e/100}function et(e){return e/L()}function tt(e){return e*L()}function it(e,t){let i;switch(t){case"LOW_TO_HIGH":i=1;break;case"HIGH_TO_LOW":i=-1}return(t,n)=>i*e(t).compareTo(e(n))}function nt(e,t){const i=it(e,"HIGH_TO_LOW");return t.reduce((e,t)=>i(e,t)<0?e:t)}const rt=JSON.parse('{"_":{"z":[{"max":300,"increment":1,"cpms":{"1a5ue4g":1,"sekdmo":2,"1rx4em8":3,"1rncw0":4,"11a7dvk":5,"jixdds":6,"1j1hedc":7,"f33v9c":8,"1elnw8w":9,"wudvr4":10,"1wcxwqo":11,"67gv0g":12,"15q0w00":13,"nyqvi8":14,"1nhawhs":15,"cv7474":16,"1cdr56o":17,"umh4ow":18,"1u515og":19,"3zk3y8":20,"13i44xs":21,"lqu4g0":22,"1l9e5fk":23,"hb0mbk":24,"1gtknb4":25,"z2amtc":26,"1ykunsw":27,"8fdm2o":28,"17xxn28":29,"q6nmkg":30,"1pp7nk0":31,"9jbzls":32,"191w0lc":33,"ram03k":34,"1qt6134":35,"nozcw":36,"10690cg":37,"ieyzuo":38,"1hxj0u8":39,"dz5hq8":40,"1dhpips":41,"vqfi80":42,"1v8zj7k":43,"53ihhc":44,"14m2igw":45,"mushz4":46,"1mdciyo":47,"br8qo0":48,"1b9srnk":49,"tiir5s":50,"1t12s5c":51,"2vlqf4":52,"12e5reo":53,"kmvqww":54,"1k5frwg":55,"g728sg":56,"1fpm9s0":57,"xyc9a8":58,"1xgwa9s":59,"7bf8jk":60,"16tz9j4":61,"p2p91c":62,"1ol9a0w":63,"a3b6dc":64,"19lv7cw":65,"rul6v4":66,"1rd57uo":67,"17o64g":68,"10q8740":69,"iyy6m8":70,"1ihi7ls":71,"ej4ohs":72,"1e1ophc":73,"waeozk":74,"1vsypz4":75,"5nho8w":76,"1561p8g":77,"neroqo":78,"1mxbpq8":79,"cb7xfk":80,"1btryf4":81,"u2hxxc":82,"1tl1yww":83,"3fkx6o":84,"12y4y68":85,"l6uxog":86,"1kpeyo0":87,"gr1fk0":88,"1g9lgjk":89,"yibg1s":90,"1y0vh1c":91,"7vefb4":92,"17dygao":93,"pmofsw":94,"1p58gsg":95,"8zcsu8":96,"18hwtts":97,"qqmtc0":98,"1q96ubk":99,"3pslc":100,"zm9tkw":101,"huzt34":102,"1hdju2o":103,"df6ayo":104,"1cxqby8":105,"v6gbgg":106,"1up0cg0":107,"4jjaps":108,"1423bpc":109,"matb7k":110,"1ltdc74":111,"b79jwg":112,"1aptkw0":113,"syjke8":114,"1sh3lds":115,"2bmjnk":116,"11u6kn4":117,"k2wk5c":118,"1jlgl4w":119,"fn320w":120,"1f5n30g":121,"xed2io":122,"1wwx3i8":123,"6rg1s0":124,"16a02rk":125,"oiq29s":126,"1o1a39c":127,"ax9yio":128,"1aftzi8":129,"sojz0g":130,"1s74000":131,"21my9s":132,"11k6z9c":133,"jswyrk":134,"1jbgzr4":135,"fd3gn4":136,"1evnhmo":137,"x4dh4w":138,"1wmxi4g":139,"6hgge8":140,"1600hds":141,"o8qgw0":142,"1nrahvk":143,"d56pkw":144,"1cnqqkg":145,"uwgq2o":146,"1uf0r28":147,"49jpc0":148,"13s3qbk":149,"m0tpts":150,"1ljdqtc":151,"hl07pc":152,"1h3k8ow":153,"zca874":154,"1yuu96o":155,"8pd7gg":156,"187x8g0":157,"qgn7y8":158,"1pz78xs":159,"9tbkzk":160,"19bvlz4":161,"rkllhc":162,"1r35mgw":163,"xokqo":164,"10g8lq8":165,"ioyl8g":166,"1i7im80":167,"e95340":168,"1drp43k":169,"w0f3ls":170,"1viz4lc":171,"5di2v4":172,"14w23uo":173,"n4s3cw":174,"1mnc4cg":175,"c18c1s":176,"1bjsd1c":177,"tsicjk":178,"1tb2dj4":179,"35lbsw":180,"12o5csg":181,"kwvcao":182,"1kffda8":183,"gh1u68":184,"1fzlv5s":185,"y8buo0":186,"1xqvvnk":187,"7letxc":188,"173yuww":189,"pcouf4":190,"1ov8veo":191,"adarr4":192,"19vusqo":193,"s4ks8w":194,"1rn4t8g":195,"1hnri8":196,"1107shs":197,"j8xs00":198,"1irhszk":199,"et49vk":200,"1eboav4":201,"wkeadc":202,"1w2ybcw":203,"5xh9mo":204,"15g1am8":205,"nora4g":206,"1n7bb40":207,"cl7itc":208,"1c3rjsw":209,"uchjb4":210,"1tv1kao":211,"3pkikg":212,"1384jk0":213,"lguj28":214,"1kzek1s":215,"h110xs":216,"1gjl1xc":217,"ysb1fk":218,"1yav2f4":219,"85e0ow":220,"17ny1og":221,"pwo16o":222,"1pf8268":223,"99ce80":224,"18rwf7k":225,"r0meps":226,"1qj6fpc":227,"dpdz4":228,"zw9eyo":229,"i4zegw":230,"1hnjfgg":231,"dp5wcg":232,"1d7pxc0":233,"vgfwu8":234,"1uyzxts":235,"4tiw3k":236,"14c2x34":237,"mkswlc":238,"1m3cxkw":239,"bh95a8":240,"1azt69s":241,"t8j5s0":242,"1sr36rk":243,"2lm51c":244,"124660w":245,"kcw5j4":246,"1jvg6io":247,"fx2neo":248,"1ffmoe8":249,"xocnwg":250,"1x6wow0":251,"71fn5s":252,"16jzo5c":253,"ospnnk":254,"1ob9on4":255,"asa5ts":256,"1aau6tc":257,"sjk6bk":258,"1s247b4":259,"1wn5kw":260,"11f76kg":261,"jnx62o":262,"1j6h728":263,"f83ny8":264,"1eqnoxs":265,"wzdog0":266,"1whxpfk":267,"6cgnpc":268,"15v0oow":269,"o3qo74":270,"1nmap6o":271,"d06ww0":272,"1ciqxvk":273,"urgxds":274,"1ua0ydc":275,"44jwn4":276,"13n3xmo":277,"lvtx4w":278,"1ledy4g":279,"hg0f0g":280,"1gykg00":281,"z7afi8":282,"1ypughs":283,"8kderk":284,"182xfr4":285,"qbnf9c":286,"1pu7g8w":287,"9obsao":288,"196vta8":289,"rflssg":290,"1qy5ts0":291,"sos1s":292,"10b8t1c":293,"ijysjk":294,"1i2itj4":295,"e45af4":296,"1dmpbeo":297,"vvfaww":298,"1vdzbwg":299,"58ia68":300}},{"max":800,"increment":5,"cpms":{"1beskcg":305,"krvjls":310,"1xlw2yo":315,"a8az28":320,"10v7zsw":325,"wfehog":330,"1n2bif4":335,"3kkpvk":340,"1gel98g":345,"pro8hs":350,"1qe6n0g":355,"dk63nk":360,"14734e8":365,"t3jd34":370,"1jqgdts":375,"6wfugw":380,"1akts74":385,"jxwrgg":390,"1wrxatc":395,"da6i9s":400,"13x3j0g":405,"zha0w0":410,"1q471mo":415,"12odfk":420,"1dwowsg":425,"n9rw1s":430,"1tg2680":435,"gm1mv4":440,"178ynls":445,"s9kkxs":450,"1iwhlog":455,"62h2bk":460,"1c8rchs":465,"llubr4":470,"1yfuv40":475,"9ec6ww":480,"10197nk":485,"vlfpj4":490,"1m8cq9s":495,"2qlxq8":500,"1fkmh34":505,"oxpgcg":510,"1rumi9s":515,"f0lyww":520,"15niznk":525,"ujz8cg":530,"1l6w934":535,"8cvpq8":540,"18ze48w":545,"ich3i8":550,"1v6hmv4":555,"boqubk":560,"12bnv28":565,"xvucxs":570,"1oirdog":575,"1569s0":580,"1dz6t4w":585,"nc9se8":590,"1tik2kg":595,"gojj7k":600,"17bgjy8":605,"qo4wzk":610,"1hb1xq8":615,"4h1edc":620,"1anbojk":625,"k0ensw":630,"1wuf75s":635,"aus268":640,"11hp2ww":645,"x1vksg":650,"1noslj4":655,"471szk":660,"1h12ccg":665,"qe5bls":670,"1r0nq4g":675,"e6n6rk":680,"14tk7i8":685,"tq0g74":690,"1kcxgxs":695,"7iwxkw":700,"19tcwe8":705,"j6fvnk":710,"1w0gf0g":715,"cipmgw":720,"135mn7k":725,"ypt534":730,"1pcq5ts":735,"b7hmo":740,"1d580zk":745,"mib08w":750,"1solaf4":755,"fukr28":760,"16hhrsw":765,"sh29z4":770,"1j3zaps":775,"69yrcw":780,"1cg91j4":785,"ltc0sg":790,"1ynck5c":795,"9ltvy8":800}},{"max":2000,"increment":50,"cpms":{"u4zu9s":850,"244um8":900,"kzd8n4":950,"drnsow":1000,"z3jkzk":1050,"5oqmf4":1100,"ojz0g0":1150,"c2ha80":1200,"r1vcw0":1250,"45sutc":1300,"j56xhc":1350,"ftbsw0":1400,"w6nugw":1450,"8bmrk0":1500,"nxhxc0":1550,"a22874":1600,"sxam80":1650,"wfmkg":1700,"lflkw0":1750,"f6ups0":1800,"y233sw":1850,"4na58g":1900,"qke2gw":1950,"coydc0":2000}},{"max":3500,"increment":100,"cpms":{"2uz9c0":2100,"hkdqm8":2200,"70t62o":2300,"93q4g0":2400,"1m1340":2500,"dw14ao":2600,"6ec2yo":2700,"be4ruo":2800,"3hgcg0":2900,"gix9fk":3000,"8g035s":3100,"axwfls":3200,"ebv28":3300,"eoqy9s":3400,"5j4cn4":3500}}]},"L":{"z":[{"max":2000,"increment":25,"cpms":{"v_1gtknb4":25,"v_tiir5s":50,"v_1vsypz4":75,"v_3pslc":100,"v_16a02rk":125,"v_m0tpts":150,"v_1mnc4cg":175,"v_et49vk":200,"v_18rwf7k":225,"v_xocnwg":250,"v_1ua0ydc":275,"v_58ia68":300,"v_10v7zsw":325,"v_pro8hs":350,"v_1jqgdts":375,"v_da6i9s":400,"v_1dwowsg":425,"v_s9kkxs":450,"v_1yfuv40":475,"v_2qlxq8":500,"v_15niznk":525,"v_ich3i8":550,"v_1oirdog":575,"v_gojj7k":600,"v_1anbojk":625,"v_x1vksg":650,"v_1r0nq4g":675,"v_7iwxkw":700,"v_135mn7k":725,"v_mib08w":750,"v_1j3zaps":775,"v_9ltvy8":800,"v_1fs464g":825,"v_u4zu9s":850,"v_1uri8sg":875,"v_244um8":900,"v_18af4sg":925,"v_kzd8n4":950,"v_1n9t7gg":975,"v_drnsow":1000,"v_1a73cao":1025,"v_z3jkzk":1050,"v_1t2bqbk":1075,"v_5oqmf4":1100,"v_znirr4":1125,"v_ojz0g0":1150,"v_1lkmozk":1175,"v_c2ha80":1200,"v_1ecx91c":1225,"v_r1vcw0":1250,"v_1x85n28":1275,"v_45sutc":1300,"v_14sb9c0":1325,"v_j56xhc":1350,"v_1pbh7nk":1375,"v_ftbsw0":1400,"v_1ctzhfk":1425,"v_w6nugw":1450,"v_1rtdk3k":1475,"v_8bmrk0":1500,"v_12aeww0":1525,"v_nxhxc0":1550,"v_1hwa2o0":1575,"v_a22874":1600,"v_1g8cidc":1625,"v_sxam80":1650,"v_1wlojy8":1675,"v_wfmkg":1700,"v_172pwqo":1725,"v_lflkw0":1750,"v_1m23zeo":1775,"v_f6ups0":1800,"v_195mv40":1825,"v_y233sw":1850,"v_1tostfk":1875,"v_4na58g":1900,"v_11nxts0":1925,"v_qke2gw":1950,"v_1kj67sw":1975,"v_coydc0":2000}},{"max":3000,"increment":50,"cpms":{"v_sdxwjk":2050,"v_2uz9c0":2100,"v_hudc00":2150,"v_hkdqm8":2200,"v_wjrta8":2250,"v_70t62o":2300,"v_mz5tkw":2350,"v_93q4g0":2400,"v_v0u1og":2450,"v_1m1340":2500,"v_kh9h4w":2550,"v_dw14ao":2600,"v_yf72m8":2650,"v_6ec2yo":2700,"v_p9kgzk":2750,"v_be4ruo":2800,"v_rchfcw":2850,"v_3hgcg0":2900,"v_juse0w":2950,"v_gix9fk":3000}},{"max":5000,"increment":100,"cpms":{"v_8g035s":3100,"v_axwfls":3200,"v_ebv28":3300,"v_eoqy9s":3400,"v_5j4cn4":3500,"v_ctboxs":3600,"v_29r4e8":3700,"v_gz5log":3800,"v_7ejlz4":3900,"v_9wfyf4":4000,"v_1rc4cg":4100,"v_dev2f4":4200,"v_5x6134":4300,"v_bvxatc":4400,"v_4e89hc":4500,"v_g1r7k0":4600,"v_7slaf4":4700,"v_aahmv4":4800,"v_pvn5s":4900,"v_ffa4g0":5000}}]}}'),st=rt._.z,ot=rt.L.z,at=bt(st,"USD",!0),dt=bt(ot,"USD",!0);function ct(e,t){return function(e,t){const i=gt(e,t),n=ft(e,t);if(n.isEq(e))return e;return new He((t.cents?n.asCents(t.currency):n.asUnits(t.currency))+i,t.currency,t.cents)}(e,t?dt:at)}function ut(e){const t=e.asCents("USD");return{currency:"USD",value:Math.floor(t)}}function lt(e,t){return e.cpm}function pt(e){return e.createCopyWithAdjustedAmount(e=>Math.round(e))}function mt(e){return""===e.amzniid&&"2"===e.amznbid&&"2"===e.amznp&&"0x0"===e.amznsz}const ht=function(e,t){const{amznbid:i}=e;return pt(function(e){for(const t of st){const i=t.cpms[e];if(void 0!==i)return new He(i,"USD",!0)}for(const t of ot){const i=t.cpms[e];if(void 0!==i)return new He(i,"USD",!0)}return h.warn(`[apstag] Received an amazon bid with an encoded cpm (${e}) which is unknown. Will pretend the cpm is 0 for the bid`),new He(0,"USD",!0)}(i).createCopyWithAdjustedAmount(e=>e*(1-t)))};function bt(e,t,i){const n=e.filter(e=>e.max>0).sort((e,t)=>e.max-t.max),r=[];for(let e=0;e<n.length;e++){const s=n[e],o=0===e?0:n[e-1].max,a=s.max;for(let e=o;e<a;){let n=e+s.increment;i||(n=pt(new He(n,t,i)).asUnits(t)),r.push({min:e,max:Math.min(n,a),increment:s.increment}),e=n}}return{buckets:r,currency:t,cents:i}}function gt(e,t){for(let i=0;i<t.buckets.length;i++){const n=t.buckets[i];if(e.isLt(new He(n.max,t.currency,t.cents)))return n.increment}return t.buckets[t.buckets.length-1].increment}function ft(e,t){const i=new He(gt(e,t),t.currency,t.cents).asCents(e.currency),n=Math.floor(e.asCents(e.currency));return new He(n-n%i,e.currency,!0)}const vt=[{max:10,increment:.01},{max:50,increment:.5},{max:100,increment:1}],At=bt(vt,"EUR",!1),yt=[{max:20,increment:.05},{max:50,increment:.1},{max:100,increment:1}],wt=bt(yt,"EUR",!1);function Ct(e,t){return i=>({precision:2,max:new He(i.max,e,t).asUnits("EUR"),increment:new He(i.increment,e,t).asUnits("EUR")})}const St=vt.map(Ct(At.currency,At.cents)),It=yt.map(Ct(wt.currency,wt.cents));function Bt(e){const{cpm:t,...i}=e;return{...i,type:"PrebidBid",cpm:new He(t,"EUR",!1)}}function Pt(e){return e.asUnits("EUR")}function kt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Mt{static getInstance(){return this.instance||(this.instance=new Mt),this.instance}constructor(){kt(this,"blocklist",null),kt(this,"loadingPromise",null)}async filterBids(e,t){await this.loadBlocklist(),this.blocklist&&t&&Object.entries(t).forEach(t=>{let[i,{bids:n}]=t;n.forEach(t=>{this.isBidBlocked(t)&&(h.debug("blocking bid",t),e.markWinningBidAsUsed({adId:t.adId}))})})}isDomainBlocked(e){if(!this.blocklist)return!1;const{names:t,domains:i}=this.blocklist,n=e.split(".");if(i.some(e=>{if(n.length<e.length)return!1;const t=n.length-e.length;return e.every((e,i)=>n[i+t]===e)}))return!0;return t.some(e=>!(n.length<e.length)&&e.every((e,t)=>n[t]===e))}loadBlocklist(){return this.blocklist?Promise.resolve():(this.loadingPromise||(this.loadingPromise=new Promise(e=>{o.e(424).then(o.t.bind(o,5424,19)).then(t=>{const{names:i,domains:n}=t.default;this.blocklist={names:i.map(e=>e.split(".")),domains:n.map(e=>e.split("."))},this.loadingPromise=null,e()}).catch(t=>{h.error("error loading blocklist",t),this.loadingPromise=null,e()})})),this.loadingPromise)}isBidBlocked(e){const{advertiserDomains:t}=e.meta||{};return!!t&&t.some(e=>this.isDomainBlocked(e))}}kt(Mt,"instance",void 0);const Et=Mt;function Ut(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Tt{constructor(e){Ut(this,"state",void 0),Ut(this,"auctioneers",void 0),this.auctioneers=e,this.state=e.reduce((e,t)=>Object.assign({},e,{[t]:null}),{})}setAuctioneerFinished(e){this.auctioneers.indexOf(e)<0&&(m.warn(`[RequestManager] Unexpected auctioneer ${e}`),this.auctioneers.push(e)),this.state[e]=Date.now()}haveBiddersFinished(){return this.auctioneers.every(e=>!!this.state[e])}}var zt=o(4199);function xt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _t{constructor(){xt(this,"callback",void 0),xt(this,"tcfConsentCBInstalled",!1),xt(this,"tcfInstalledListenerInstalled",!1),xt(this,"installTCFLoadedListener",()=>{this.tcfInstalledListenerInstalled||(window.addEventListener("message",this.tcfLoadedListener),this.tcfInstalledListenerInstalled=!0)}),xt(this,"tcfLoadedListener",e=>{e.data&&"tcf-loaded"===e.data&&(window.removeEventListener("message",this.tcfLoadedListener),this.installTCFConsentCB())})}async init(e){return this.callback=e,this.installTCFConsentCB()}async installTCFConsentCB(){if(this.tcfConsentCBInstalled)return;const e=window;e.__tcfapi||await Ne(),e.__tcfapi?(e.__tcfapi("addEventListener",2,(e,t)=>{t&&e&&(void 0!==this.callback&&this.callback(e,t),"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||this.removeTCFConsentCB(e.listenerId))}),this.tcfConsentCBInstalled=!0):this.installTCFLoadedListener()}removeTCFConsentCB(e){const t=window;t.__tcfapi&&void 0!==e&&t.__tcfapi("removeEventListener",2,()=>{},e)}}const Rt=class{constructor(e){xt(this,"tcfData",null),xt(this,"tcfSuccess",!1),xt(this,"consentListeners",[]),xt(this,"consentTCFCb",(e,t)=>{t&&e&&(this.tcfData=e,this.tcfSuccess=t,this.consentListeners.forEach(i=>{this.callConsentListener(i,e,t)}))});(void 0!==e?.consentInformationRetriever?e?.consentInformationRetriever:new _t).init(this.consentTCFCb).then(()=>{void 0!==e?.onInitialized&&e.onInitialized()})}addTCFConsentListener(e){this.consentListeners.push(e),this.tcfData&&this.callConsentListener(e,this.tcfData,this.tcfSuccess)}hasTCFConsent(){return!!(this.tcfSuccess&&this.tcfData&&this.tcfData.gdprApplies)&&("tcloaded"===this.tcfData.eventStatus||"useractioncomplete"===this.tcfData.eventStatus)}getConsentInformation(e){return"TCF"!==ae(e)?null:null===this.tcfData||this.tcfData.gdprApplies?{countryCode:e,applicable:!0,consentInformationAvailable:this.hasTCFConsent()}:null}removeTCConsentListener(e){this.consentListeners=this.consentListeners.filter(t=>t!==e)}callConsentListener(e,t,i){try{e(t,i)}catch(e){console.error(e)}}};function Ft(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ot{constructor(){Ft(this,"callback",void 0),Ft(this,"gppConsentCBInstalled",!1),Ft(this,"cmpInstalledListenerInstalled",!1),Ft(this,"installCmpLoadedListener",()=>{this.cmpInstalledListenerInstalled||(window.addEventListener("message",this.cmpLoadedListener),this.cmpInstalledListenerInstalled=!0)}),Ft(this,"cmpLoadedListener",e=>{e.data&&"tcf-loaded"===e.data&&(window.removeEventListener("message",this.cmpLoadedListener),this.installGppConsentCB())})}async init(e){return this.callback=e,this.installGppConsentCB()}async installGppConsentCB(){if(this.gppConsentCBInstalled)return;const e=window;e.__gpp||await Ne(),e.__gpp?(e.__gpp("addEventListener",(e,t)=>{var i;t&&(void 0!==this.callback&&this.callback({version:(i=e.pingData).gppVersion,gppString:i.gppString}),"cmpStatus"===e.eventName&&("loaded"!==e.data&&"error"!==e.data||this.removeGppConsentCB(e.listenerId)))}),this.gppConsentCBInstalled=!0):this.installCmpLoadedListener()}removeGppConsentCB(e){const t=window;t.__tcfapi&&void 0!==e&&t.__tcfapi("removeEventListener",2,()=>{},e)}}const Nt=class{constructor(e){Ft(this,"gppData",void 0),Ft(this,"consentListeners",[]),Ft(this,"consentGPPCb",e=>{this.gppData=e,this.consentListeners.forEach(t=>this.callConsentListener(t,e))});(void 0!==e?.consentInformationRetriever?e.consentInformationRetriever:new Ot).init(this.consentGPPCb).then(()=>{void 0!==e?.onInitialized&&e.onInitialized()})}addGPPConsentListener(e){this.consentListeners.push(e),(0,C.O9)(this.gppData)&&this.callConsentListener(e,this.gppData)}removeGPPConsentListener(e){this.consentListeners=this.consentListeners.filter(t=>t!==e)}hasGPPConsent(){return!(void 0===this.gppData||null===this.gppData)}getConsentInformation(e){return"GPP"!==ae(e)?null:{countryCode:e,applicable:!0,consentInformationAvailable:this.hasGPPConsent()}}callConsentListener(e,t){try{e(t)}catch(e){console.error(e)}}};function jt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Lt{static createTestingInstance(e,t){return new Lt({tcfConsentManagement:e,gppConsentManagement:t,skipLocatorFrames:!0})}static getInstance(){return this.Instance||(this.Instance=new Lt),this.Instance}constructor(e){jt(this,"tcfConsentManagement",void 0),jt(this,"gppConsentManagement",void 0),jt(this,"consentListeners",[]),jt(this,"consent",!1),jt(this,"onTCFConsentChange",(e,t)=>{this.hasTCFConsent()!==this.consent&&(this.consent=this.hasTCFConsent(),this.consentListeners.forEach(e=>this.fireConsentEventToListener(e)))}),jt(this,"onGppConsentChange",e=>{this.hasGppConsent()!==this.consent&&(this.consent=this.hasGppConsent(),this.consentListeners.forEach(e=>this.fireConsentEventToListener(e)))}),this.tcfConsentManagement=e?.tcfConsentManagement??new Rt,this.gppConsentManagement=e?.gppConsentManagement??new Nt,this.init(e?.skipLocatorFrames)}async init(e){void 0!==e&&e||await Ne(),this.addTCFConsentListener(this.onTCFConsentChange),this.addGPPConsentListener(this.onGppConsentChange)}addTCFConsentListener(e){this.tcfConsentManagement.addTCFConsentListener(e)}hasTCFConsent(){return this.tcfConsentManagement.hasTCFConsent()}removeTCConsentListener(e){this.tcfConsentManagement.removeTCConsentListener(e)}addGPPConsentListener(e){this.gppConsentManagement.addGPPConsentListener(e)}removeGPPConsentListener(e){this.gppConsentManagement.removeGPPConsentListener(e)}hasGppConsent(){return this.gppConsentManagement.hasGPPConsent()}addConsentListener(e){this.consentListeners.push(e),this.fireConsentEventToListener(e)}removeConsentListener(e){this.consentListeners=this.consentListeners.filter(t=>t!==e)}fireConsentEventToListener(e){try{e()}catch(e){console.error(e)}}getConsentInformation(e){const t=this.tcfConsentManagement.getConsentInformation(e);if(null!==t)return t;const i=this.gppConsentManagement.getConsentInformation(e);return null!==i?i:{countryCode:e,applicable:!1,consentInformationAvailable:!1}}}jt(Lt,"Instance",void 0);const qt=Lt;function Gt(e){return"number"==typeof e?()=>e:e}const Dt=bt([{max:2,increment:.01},{max:10,increment:.05},{max:20,increment:.1},{max:50,increment:1}],"EUR",!1),Vt=new He(Dt.buckets[Dt.buckets.length-1].max,Dt.currency,Dt.cents);function Wt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const $t=class{constructor(){Wt(this,"impressionKey","impression_number"),Wt(this,"priceFloorKey","pf"),Wt(this,"unit",void 0),Wt(this,"prebidPriceFloor",void 0),Wt(this,"googlePriceFloor",void 0),Wt(this,"hasAdsense",void 0),Wt(this,"hasAdsenseRendered",void 0),Wt(this,"prebidBids",void 0),Wt(this,"amazonDiscrepancy",void 0),Wt(this,"apstagSlotIds",[]),this.hasAdsense=!1,this.hasAdsenseRendered=!1,this.prebidPriceFloor=null,this.googlePriceFloor=null,this.prebidBids=[],this.amazonDiscrepancy=0}isBanner(){return this.unit.isBanner()}isVideo(){return this.unit.isVideo()}setAdsense(){this.hasAdsense=!0}hasAdsenseBid(){return this.hasAdsense}setAdsenseRendered(){this.hasAdsenseRendered=!0}hasAdsenseBidRendered(){return this.hasAdsense&&this.hasAdsenseRendered}resetPriceFloorsAndBids(){this.prebidPriceFloor=null,this.googlePriceFloor=null,this.prebidBids=[],this.removeApstagSlots()}shouldRenderBid(e){const t=this.currentWinningPrebidBid(),i=this.getAmazonBid();return this.applyFilterFn(this.prebidBidResponseToBidInfo(t),e)||this.applyFilterFn(this.amazonBidResponseToBidInfo(i),e)}getMinPricePaidForUnit(e,t){if(e||t)return Ke();const i=this.currentWinningPrebidBid()?.cpm??Ke(),n=this.getAmazonBid();return Ze([i,n?.cpm??Ke(),this.prebidPriceFloor??Ke()],Ke())}applyFilterFn(e,t){if(!t)return!0;if(!e)return!1;try{return t(e)}catch{}return!0}addPrebidBid(e){this.prebidBids.push(e)}getBidsForPrebid(){return this.prebidBids}getPrebidUnits(){if(0===this.prebidBids.length)return[];return[this.toPrebidUnit()]}toPrebidUnit(){const e=this.getPrebidPriceFloorObject(this.getPrebidPriceFloor()),t=this.unit.code(),i={...this.unit.requestUnit.adUnit,code:t},n=this.unit.requestUnit.slotId;return{...i,bids:this.getBidsForPrebid(),floors:e,ortb2Imp:{ext:{gpid:n}}}}currentWinningPrebidBid(){const e=this.getHighestPrebidBidResponses();return 0===e.length?null:nt(e=>e.cpm,e)}getHighestPrebidBidResponses(){const e=n();return void 0===e?[]:e.getHighestCpmBids(this.unit.code()).map(Bt)}prebidBidResponseToBidInfo(e){return e?{cpm:Pt(e.cpm),rendered:"rendered"===e.status,bidder:e.bidderCode,code:this.unit.code()}:null}getPrebidPriceFloor(){return this.prebidPriceFloor||(this.prebidPriceFloor=this.computePrebidPriceFloor()),this.prebidPriceFloor}computePrebidPriceFloor(){const e=this.getHighestWinningBid();return this.computeRequestPriceFloor(e?[e]:[])}getPrebidPriceFloorObject(e){if(null===e)return;const{currency:t,value:i}=function(e){return{currency:"USD",value:e.asUnits("EUR")}}(e);return{currency:t,default:i,schema:{fields:["mediaType"]},values:{[this.isBanner()?"banner":"video"]:i}}}processAmazonBid(e){const t=ht(e,this.amazonDiscrepancy),i=(this.computeApsPriceFloor()||Ke()).createCopyWithAdjustedAmount(e=>e*(1-this.amazonDiscrepancy));return t.isGte(pt(i))?{...e,cpm:t,type:"AmazonBid"}:null}setAmazonDiscrepancy(e){this.amazonDiscrepancy=e}computeApsPriceFloor(){const e=this.getHighestWinningBid(),t=this.computeRequestPriceFloor(e?[e]:[]);if(!t)return null;const i=t.createCopyWithAdjustedAmount(e=>e/(1-this.amazonDiscrepancy));h.debug("Amazon pricefloor (EUR)",t.asUnits("EUR")),h.debug("Amazon pricefloor with discrepancy, before bucketing (USD)",i.asUnits("USD"));const n=ct(i,this.isVideo());return h.debug("Amazon pricefloor after bucketing (USD)",n.asUnits("USD")),n}amazonBidResponseToBidInfo(e){return e?{cpm:Pt(e.cpm),rendered:!1,bidder:"amazon",code:e.slotID}:null}getHighestWinningBid(){const e=this.getWinningBids();return 0===e.length?null:nt(e=>e.cpm,e)}getWinningBids(){return[this.getAmazonBid(),this.currentWinningPrebidBid()].filter(C.O9)}getGooglePriceFloor(){return this.googlePriceFloor&&this.googlePriceFloor.isGreaterThanZero()?this.googlePriceFloor:this.getPrebidPriceFloor()}calculateAndSetGooglePriceFloor(e){const t={current:this.googlePriceFloor??Ke(),prebid:Ke(),amazon:Ke()},i=e([this.currentWinningPrebidBid()].filter(C.O9));if(i&&(t.prebid=ft(i,this.getPrebidPriceBuckets())),Ie.getInstance().getExperiments()[me]){const i=e([this.getAmazonBid()].filter(C.O9));i&&(t.amazon=i)}this.googlePriceFloor=Ze([t.current,t.prebid,t.amazon],Ke())}priceFloorTargeting(e){return function(e){let t=ft(e,Dt);return t.isGte(Vt)&&(t=Vt),t.asUnits("EUR").toFixed(2)}(e)}computeRequestPriceFloor(e){if(this.unit.requestUnit.noPriceFloor||this.unit.requestOptions.noPriceFloor)return null;const t={bids:e.map(e=>{switch(e.type){case"AmazonBid":return this.amazonBidResponseToBidInfo(e);case"PrebidBid":return this.prebidBidResponseToBidInfo(e)}}).filter(C.O9)};return this.applyPriceFloorFunctions(t)}applyPriceFloorFunctions(e){const t=this.unit.requestUnit.priceFloor,i=[this.unit.requestOptions.priceFloor,t].filter(C.O9).map(Gt);if(0===i.length)return null;const n=i.reduce((e,t)=>i=>t(i,e),void 0),r=n(e);return null===r?null:new He(r,"EUR",!1)}};function Ht(e){const t=[],{video:i,native:n,banner:r}=e.mediaTypes;return(0,C.O9)(i)&&(0,C.O9)(i.playerSize)&&t.push(i.playerSize.slice()),n&&n.image&&t.push(...n.image.sizes.map(e=>e.slice())),r&&t.push(...r.sizes.map(e=>e.slice())),t}const Kt=Object.values(f.fT).filter(e=>null!==e),Zt=["138340379973","138340379976","138340320638","138340379970","138340320629","138340320635","138340379967","138340379961","138340379964","138340320632"];function Jt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Qt{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Jt(this,"disableFailingPrebidBidders",void 0),Jt(this,"disableFailingAmazonPartners",void 0),Jt(this,"allowedErrorsWithoutGettingBlacklisted",void 0),Jt(this,"disabledPrebidBidders",new Map),Jt(this,"disabledAmazonPartners",new Map),this.allowedErrorsWithoutGettingBlacklisted=i,this.disableFailingPrebidBidders=e,this.disableFailingAmazonPartners=t}getAdditionalGAMKeyValuePairs(){return{num_disabled_prebid:this.disableFailingPrebidBidders?`${this.disabledPrebidBidders.size}`:void 0,num_disabled_amazon:this.disableFailingAmazonPartners?`${this.disabledAmazonPartners.size}`:void 0}}isBidderBlacklisted(e){return this._isPrebidBidderCodeBlacklisted(e.code)}_isPrebidBidderCodeBlacklisted(e){const t=this.disabledPrebidBidders.get(e);return this.isBlacklisted(t)}isAmazonBidBlacklisted(e){const t=this.extractAmazonPartner(e);return void 0!==t&&this._isAmazonPartnerBlacklisted(t)}_isAmazonPartnerBlacklisted(e){const t=this.disabledAmazonPartners.get(e);return this.isBlacklisted(t)}isBlacklisted(e){return void 0!==e&&e>this.allowedErrorsWithoutGettingBlacklisted}asBlacklistedAmazonPartnerFilter(){return e=>!this.disabledAmazonPartners.has(e)}createOnVideoPlayedCallback(e,t){return i=>{const n=Yt({prebid:void 0!==e.prebid?{adUnitCode:e.prebid.adUnitCode,bidderCode:e.prebid.bidderCode,cpm:(r=e.prebid,s=!0,ft(r.cpm,s?wt:At))}:void 0,amazon:void 0!==e.amazon?{amzniid:e.amazon.amzniid,amznp:this.extractAmazonPartner(e.amazon),cpm:lt(e.amazon)}:void 0},{usedCreatives:i.creativeIds,error:i.forceMarkAsUsed??!1});var r,s;this._handleVideoUsageInformation(n,t)}}_handleVideoUsageInformation(e,t){e.prebid&&(e.prebid.addToBlacklist?this.handlePrebidBidError(e.prebid.adUnitCode,e.prebid.bidderCode):e.prebid.used&&(this.markPrebidBidAsUsed(e.prebid.adUnitCode),this.handlePrebidBidSuccess(e.prebid.bidderCode))),e.amazon&&(e.amazon.addToBlacklist?this.handleAmazonBidError(t.code,e.amazon.amzniid,e.amazon.amznp):e.amazon.used&&(this.markAmazonBidAsUsed(e.amazon.amzniid),this.handleAmazonBidSuccess(e.amazon.amznp)))}markPrebidBidAsUsed(e){try{h.debug("[CrazyAds] Marking winning Prebid video as used",e);const t=r();t.adUnits.find(t=>t.code===e)||h.error("[CrazyAds] Adunit not found for bid",e),t.markWinningBidAsUsed({adUnitCode:e})}catch(t){h.error(t,"[CrazyAds] Failed to mark winning video bid as used",e)}}markAmazonBidAsUsed(e){}handlePrebidBidSuccess(e){if(this.disableFailingPrebidBidders&&this.disabledPrebidBidders.has(e)){this.disabledPrebidBidders.delete(e)&&h.debug(`[CrazyAds] Resetting the error count for prebid bidder ${e} since the bidder served a successful ad`)}}handlePrebidBidError(e,t){if(this.disableFailingPrebidBidders){if(h.debug(`[CrazyAds] Incrementing the error count of prebid bidder ${t} for video ads since the ad threw an error on ad unit ${e}`),this.disabledPrebidBidders.set(t,(this.disabledPrebidBidders.get(t)??0)+1),this._isPrebidBidderCodeBlacklisted(t)){h.debug(`[CrazyAds] Disabling prebid bidder ${t} for video ads since it threw too many errors`);const i=r(),n=i.adUnits.filter(e=>void 0!==e.mediaTypes.video).map(e=>e.code);for(const r of n){const n=i.getBidResponsesForAdUnitCode(r).bids;for(const s of n)s.bidderCode===t&&(h.debug(`[CrazyAds] Marking video bid of bidder ${s.bidderCode} as used on ad unit ${r} because the video failed on ad unit ${e}`),i.markWinningBidAsUsed({adUnitCode:r,adId:s.adId}))}}}else this.markPrebidBidAsUsed(e)}handleAmazonBidSuccess(e){if(void 0!==e){if(this.disableFailingAmazonPartners&&this.disabledAmazonPartners.has(e)){this.disabledAmazonPartners.delete(e)&&h.debug(`[CrazyAds] Resetting the error count for amazon partner ${e} since the partner served a successful ad`)}}else h.warn("[CrazyAds] Cannot reset the error count for amazon partner with successful video ad because the amazon partner is unknown")}handleAmazonBidError(e,t,i){void 0!==i?(this.disableFailingAmazonPartners&&(h.debug(`[CrazyAds] Incrementing the error count of amazon partner ${i} for video ads since the ad ${t} threw an error`),this.disabledAmazonPartners.set(i,(this.disabledAmazonPartners.get(i)??0)+1),this._isAmazonPartnerBlacklisted(i)&&h.debug(`[CrazyAds] Disabling amazon partner ${i} for video ads since it threw too many errors`)),h.debug(`[CrazyAds] Marking video bid ${t} of partner ${i} as used because there was an error`),this.markAmazonBidAsUsed(t)):h.warn("[CrazyAds] Cannot disable amazon partner with failing video ad because the amazon partner is unknown")}reset(){this.disabledAmazonPartners.clear(),this.disabledPrebidBidders.clear()}extractAmazonPartner(e){return e.amznp}}function Yt(e,t){const i={prebid:void 0!==e.prebid?{adUnitCode:e.prebid.adUnitCode,bidderCode:e.prebid.bidderCode,used:!1,addToBlacklist:!1}:void 0,amazon:void 0!==e.amazon?{amzniid:e.amazon.amzniid,amznp:e.amazon.amznp,used:!1,addToBlacklist:!1}:void 0};let n;let r;if(void 0!==e.prebid&&t.usedCreatives.some(e=>Kt.includes(e))?(n="prebid",i.prebid&&(i.prebid.used=!0)):void 0!==e.amazon&&(e=>e.some(e=>Zt.includes(e)))(t.usedCreatives)?(n="amazon",i.amazon&&(i.amazon.used=!0)):n="unknown",void 0!==e.prebid&&void 0!==e.amazon){const t=e.prebid.cpm,i=e.amazon.cpm;r=t.isGt(i)?"prebid":i.isGt(t)?"amazon":"unknown"}else r=void 0!==e.prebid?"prebid":void 0!==e.amazon?"amazon":"unknown";let s="unknown";switch("unknown"!==r&&"unknown"!==n&&r!==n?s=r:t.error&&(s="unknown"!==n?n:r),s){case"prebid":void 0!==i.prebid&&(i.prebid.addToBlacklist=!0);break;case"amazon":void 0!==i.amazon&&(i.amazon.addToBlacklist=!0)}return i}const Xt=new Qt(!0,!1);function ei(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ti=class extends $t{constructor(e){super(),ei(this,"unit",void 0),ei(this,"prebidBids",void 0),ei(this,"apstagSlots",[]),ei(this,"amazonBid",void 0),ei(this,"googleBid",void 0),this.unit=e,this.prebidBids=[],this.amazonBid=null}resetPriceFloorsAndBids(){super.resetPriceFloorsAndBids(),this.amazonBid=null}getPrebidUnits(){const{placements:e}=this.unit.requestUnit.video;e||h.error("[VideoUnit] should have placements");const t=[];return Object.keys(e).forEach(e=>{this.unit.setCurrentPlacement(e);const i=this.toPrebidUnit();t.push(i)}),this.unit.setCurrentPlacement(null),t}getBidsForPrebid(){return this.prebidBids.filter(e=>e.placement===this.unit.getCurrentPlacement()).map(e=>{let{placement:t,...i}=e;return i})}getHighestPrebidBidResponses(){if(this.unit.getCurrentPlacement())return super.getHighestPrebidBidResponses();{const{placements:e}=this.unit.requestUnit.video,t=Object.keys(e).reduce((e,t)=>{this.unit.setCurrentPlacement(t);const i=super.getHighestPrebidBidResponses();return e.concat(i)},[]);return this.unit.setCurrentPlacement(null),t}}toPrebidUnit(){const e=super.toPrebidUnit(),{mediaTypes:t}=e,{placements:i}=this.unit.requestUnit.video,n=this.unit.videoType(),r=this.unit.openRTB(i[this.unit.getCurrentPlacement()],n,!1),s=t.video,o=Object.assign({},s||{},r),a=Object.assign({},t,{video:o});return{...e,mediaTypes:a}}getAmazonBid(){return this.amazonBid}setAmazonBid(e){const t=e.filter(e=>!Xt.isAmazonBidBlacklisted(e));if(0===t.length)return;const i=t.filter(e=>e.cpm.isGreaterThanZero());if(0===i.length)return;const n=i.reduce((e,t)=>e.cpm.isGte(t.cpm)?e:t,i[0]);n.cpm.isGreaterThanZero()&&(this.amazonBid&&!this.amazonBid.cpm.isLt(n.cpm)||(this.amazonBid=n))}getApstagSlots(){return this.apstagSlots}setApstagSlots(){this.apstagSlots.forEach(e=>{const t=this.computeApsPriceFloor();t&&(e.floor=ut(t))})}addApstagSlot(e){this.apstagSlotIds.push(e),this.apstagSlots.push({slotID:e,mediaType:"video",sizes:this.unit.getSizes()})}removeApstagSlots(){this.apstagSlots=[],this.apstagSlotIds=[]}getPrebidAmazonBids(){const e=this.getCurrentWinningPrebidBids(),t=this.getAmazonBid();return t?{amazon:t,prebid:e}:{prebid:e}}getCurrentWinningPrebidBids(){try{return this.getHighestPrebidBidResponses()}catch(e){return console.error(e),[]}}setGoogleVideoBid(e,t){const i=t?"skippableMaxDuration":"nonSkippableMaxDuration",n=this.googleBid?.[i]||-1,{maxDuration:r=-1,...s}=e,o=Math.max(n,r);this.googleBid={...this.googleBid,...s,...o>0&&{[i]:o}}}async buildGamUrlWithConsent(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=await this.consentParams();return this.buildGamUrl(e,t,n,i)}highestPrebidBid(){const{placements:e}=this.unit.requestUnit.video,t=Object.keys(e).map(e=>{this.unit.setCurrentPlacement(e);return{bid:this.currentWinningPrebidBid(),placement:e}}),i=t.reduce((e,t)=>t.bid?e.bid?.cpm&&e.bid.cpm.isGte(t.bid.cpm)?e:t:e,t[0]);return this.unit.setCurrentPlacement(null),i}buildGamUrl(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{placement:r}=this.highestPrebidBid();this.unit.setCurrentPlacement(r);const s=this.unit.code(),o=e.adUnits.filter(e=>e.code===s);if(1!==o.length)throw new Error("[VideoUnit] Display video expected single unit");h.debug(`[VideoUnit] ${s} has highest bid`);const a=o[0],d={};Object.entries(n).forEach(e=>{let[t,i]=e;(0,C.O9)(t)&&(0,C.O9)(i)&&(d[t]=i)});const c=this.getGooglePriceFloor(),u=c&&this.priceFloorTargeting(c);let l={};if(u){const e=parseFloat(u);l={pubf:Math.floor(1e6*e).toFixed(0)}}const p={iu:this.unit.requestUnit.slotId,ad_type:"video",tfcd:t.video.tfcd||0,trt:this.trt(),vad_type:"linear",plcmt:zt.fh.INSTREAM,...i,...this.customVastAdTagParams(),cust_params:{...d,...c&&{[this.priceFloorKey]:u},...l}};h.debug(`[VideoUnit] URL Params ${JSON.stringify(p)}`);const m=e.adServers.dfp.buildVideoUrl({adUnit:a,params:p});this.unit.setCurrentPlacement(null);const b=this.getAmazonBid();if(b){const e=new URL(m),t=`${e.searchParams.get("cust_params")}${b.qsParams}`;return e.searchParams.set("cust_params",t),e.toString()}return m}customVastAdTagParams(){if(!this.unit.requestOptions.video||!this.unit.requestUnit.video)return{};if(!this.googleBid)return h.warn("[VideoUnit] Missing a google bid"),{};const e=this.unit.videoType(!0),{skippableMaxDuration:t,nonSkippableMaxDuration:i,descriptionUrl:n}=this.googleBid,r={};return(0,C.O9)(t)&&(r.sdmax=1e3*t),(0,C.O9)(i)&&(r.max_ad_duration=1e3*i),(0,C.O9)(e)&&(r.vpos=this.videoTypeParam(e)),(0,C.O9)(n)&&(r.description_url=n),r}videoTypeParam(e){switch(e){case"rewarded":case"preroll":return"preroll";case"midroll":return"midroll";default:return h.error(`[VideoUnit] Unexpected Video Type ${e}`),"preroll"}}trt(){return this.unit.requestOptions.trafficSource?"purchased"===this.unit.requestOptions.trafficSource?1:2:0}consentParams(){const e=this.unit.requestOptions.clientInfo?.country;return ie(e??null)?qt.getInstance().hasTCFConsent()?{}:{npa:1}:{npa:0}}getPrebidPriceBuckets(){return wt}};function ii(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ni=class{constructor(e,t){ii(this,"numberOfRequests",void 0),ii(this,"numberOfImpressions",void 0),ii(this,"bids",void 0),ii(this,"houseAdWasRenderedInRowCounter",0),ii(this,"requestUnit",void 0),ii(this,"requestOptions",void 0),this.requestUnit=e,this.requestOptions=t,this.numberOfRequests=1,this.numberOfImpressions=0}addApstagSlot(e){this.bids.addApstagSlot(e.slotID)}getApstagSlots(){return this.bids.getApstagSlots()}setApstagSlots(){this.bids.setApstagSlots()}addPrebidBid(e){this.bids.addPrebidBid(e)}resetForRender(e,t){this.bids.resetPriceFloorsAndBids(),this.requestUnit=e,this.requestOptions=t}elementId(){return this.code()}code(){return this.requestUnit.adUnit.code}setBids(e,t,i){if(this.bids.hasAdsenseBid()){const e=t.map(e=>e.code);return void m.debug(`[AdUnit] ${this.code()} ignoring ${e.join(" ")} bids due to adsense`)}t.forEach(t=>this.setBidderBid(e,t,i))}getSizes(){return Ht(this.requestUnit.adUnit)}maxSize(){const e=this.getSizes(),t=e.map(e=>e[0]),i=e.map(e=>e[1]);return[Math.max(...t),Math.max(...i)]}shouldRenderBid(e){return this.bids.shouldRenderBid(e)?this:void 0}isBanner(){return!1}isVideo(){return!1}getNumberOfRequests(){return this.numberOfRequests}getNumberOfImpressions(){return this.numberOfImpressions}getHouseAdWasRenderedInRowCounter(){return this.houseAdWasRenderedInRowCounter}setBidderBid(e,t,i){const n=(this.requestUnit.bidders||[]).find(e=>e.bidder===t.code);n?t.setBidding(e,this,n,i):t.setBidding(e,this,null,i)}};function ri(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function si(e){return null!=e&&e.isVideo()}const oi=class extends ni{constructor(e,t){super(e,t),ri(this,"bids",void 0),ri(this,"requestUnit",void 0),ri(this,"requestOptions",void 0),ri(this,"currentPlacement",null),this.bids=new ti(this),this.requestUnit=e,this.requestOptions=t}canRender(){return!0}getBids(){return this.bids}mediaType(){return this.requestUnit.adUnit.mediaTypes.video}isVideo(){return!0}getAdFormat(){return"video"}videoType(e){const t=this.requestUnit.video.videoType;return e||"midroll"!==t?t:"preroll"}bidParamsForBidder(e,t,i){return e.customVideoBidParams(t,this,i)}addPrebidBid(e){const t={...e,placement:this.currentPlacement};super.addPrebidBid(t)}code(){const e=super.code();return this.currentPlacement?this.codeWithPlacement(this.currentPlacement):e}getAllCodes(){return Object.keys(this.requestUnit.video.placements).map(e=>this.codeWithPlacement(e))}getCurrentPlacement(){return this.currentPlacement}setCurrentPlacement(e){this.currentPlacement=e}setBidderBid(e,t,i){const{placements:n}=this.requestUnit.video,r=this.videoType();n||m.error("[VideoUnit] should have placements"),Object.keys(n).forEach(s=>{this.currentPlacement=s;const o=n[s],a=this.openRTB(o,r,"google"===t.code),d=(o.bidders||[]).find(e=>e.bidder===t.code),c={...i,openRTB:a};d?t.setBidding(e,this,d,c):t.setBidding(e,this,null,c)}),this.currentPlacement=null}checkBidderSettings(e,t){return t.checkVideoSettings(e,this)}async onAuctionResult(){const e=this.requestUnit.video.callback??this.requestOptions.video?.callback;if(!(0,C.O9)(e))return;e({})}async invokeGamUrlConstructedCallback(e,t){const i=this.bids.getPrebidAmazonBids();try{const n=this.bids.highestPrebidBid(),r=n.bid?n.placement:null,s=super.code(),o=r?this.codeWithPlacement(r):null,a=this.getOnVideoPlayedCallback({prebid:n?.bid??void 0,amazon:i.amazon??void 0},{code:o??s}),d=[];if(void 0!==i.amazon){const e=i.amazon,t={cpm:Pt(e.cpm),bidder:"amazon",requestTimestamp:Date.now(),amzniid:e.amzniid,amznp:e.amznp};d.push(t)}i.prebid.forEach(e=>{const t={cpm:Pt(e.cpm),bidder:e.bidderCode,responseTime:e.responseTimestamp};d.push(t)}),t({identifiers:{code:s,placementCode:o},gamInfo:{url:e,minPricePaid:Pt(this.getBids().getMinPricePaidForUnit(!1,!1))},callbacks:{onVideoPlayedCallback:a}})}catch{m.error(`[VideoUnit] ${this.code()}, err in invoking callback`)}}openRTB(e,t,i){const{skippable:n}=e,r=e.maxDuration,s=e.googleMaxDuration||r,o=i?s:r,a=this.getStartdelay(t);return this.createOpenRTB(a,o,n)}codeWithPlacement(e){return`${super.code()}-${e}`}getStartdelay(e){return"midroll"===e?-1:0}createOpenRTB(e,t,i){return{context:"instream",protocols:[zt.vn.VAST1,zt.vn.VAST2,zt.vn.VAST3,zt.vn.VAST2Wrapper,zt.vn.VAST3Wrapper,zt.vn.VAST4,zt.vn.VAST4Wrapper],api:[zt.gX.OMID_1_0,zt.gX.SIMID_1_0,zt.gX.VPAID2,zt.gX.SIMID_1_1],mimes:["video/mp4","video/webm","video/quicktime","video/ogg","application/javascript"],linearity:zt.LE.INSTREAM,minbitrate:10,maxbitrate:1e4,placement:zt.lX.INSTREAM,plcmt:zt.KI.INSTREAM,playbackmethod:[zt.BE.CLICK_WITH_SOUND],startdelay:e,minduration:1,...void 0!==t?{maxduration:t}:{},...void 0!==i?{skip:i?1:0}:{},...i?{skipafter:5}:{}}}getOnVideoPlayedCallback(e,t){return Xt.createOnVideoPlayedCallback(e,t)}};const ai=class extends I{createBidsForUnit(e,t,i){this.createBid(t,i)}createBid(e,t){const{slot:i,client:n}=t;if(!i)return void h.warn("[AdSense] missing slot");if(!n)return void h.error("[AdSense] missing client id");const r=e.code(),s=document.getElementById(r);if(!s)return void h.warn(`[AdSense] cannot find element ${r}`);const[o,a]=e.maxSize(),d=document.createElement("ins");d.setAttribute("class","adsbygoogle"),d.setAttribute("style",`display:inline-block;width:${o}px;height:${a}px`),d.setAttribute("data-ad-client",n),d.setAttribute("data-ad-slot",i),s.appendChild(d),e.getBids().setAdsense()}};class di extends I{checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{slotID:i}=e;this.warnIfNotSet("slotID",i)}createBidsForUnit(e,t,i,n){const r=n.clientInfo,s=_.getBidderDiscrepancyForSession("amazon",r,t.getAdFormat()),{pubID:o,adServer:a,slotID:d}=i;e.setApstagConfig({pubID:o||"",adServer:a});const c=t.isVideo()?d:t.code();t.addApstagSlot({slotID:c||t.code()}),t.getBids().setAmazonDiscrepancy(s)}checkSettings(e,t){super.checkSettings(e,t);const{pubID:i,adServer:n}=e;this.warnIfNotSet("pubID",i),this.warnIfNotSet("adServer",n)}}function ci(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ui extends I{constructor(e,t){super(e,t),this.code=e,ci(this,"adjust",(e,t,i)=>function(e,t,i){return new He(e,"USD",!1).asUnits("EUR")*(1-t)*(1-i)}(e,t,i))}isPrebidBidder(){return!0}getPrebidBidderSettings(e,t){const i={bidCpmAdjustment:this.getAdjustment(e,t),...this.getCustomAdserverTargeting()??{}};return{[this.prebidCode()]:i}}getAdjustment(e,t){return i=>this.adjust(i,e,t)}getCustomAdserverTargeting(){return y(this.code)?{sendStandardTargeting:!0,adserverTargeting:[{key:"hb_server_bidder",val:e=>e.bidderCode},{key:"hb_server_adid",val:e=>e.adId},{key:"hb_server_pb",val:e=>e.pbCg},{key:"hb_server_size",val:e=>e.size},{key:"hb_server_format",val:e=>e.mediaType}]}:null}prebidCode(){return this.code}createBidsForUnit(e,t,i,n){const r=this.toBid(e,i,t,n);t.addPrebidBid(r)}checkSettings(e,t){super.checkSettings(e,t)}customBidParams(e,t,i){return t.bidParamsForBidder(this,e,i)}toBid(e,t,i,n){if(this.code!==t.bidder)throw new Error("[Bidder] wrong bidconfig");return{bidder:this.prebidCode(),params:this.bidParams(e,t,i,n)}}bidParams(e,t,i,n){const r=this.customBidParams(t,i,n);return h.debug(`[${this.code}] Bid Params:`,r),r}isBidderEnabledForUnit(e,t,i){const n=super.isBidderEnabledForUnit(e,t,i);return n&&si(e)&&Xt.isBidderBlacklisted(this)?(h.debug(`bidder ${this.code} is on the blacklist for videos`),!1):n}}class li extends ui{customVideoBidParams(e,t,i){const n=this.customAdUnitParams(e,t.mediaType()),{maxduration:r,minduration:s,skip:o,api:a}=i.openRTB;return{...n,video:{maxduration:r,minduration:s,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const i=t.mediaType();return this.customAdUnitParams(e,i)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i}=e;this.warnIfNotSet("placementId",i)}customAdUnitParams(e,t){const{pos:i}=t,{placementId:n}=e;return{placementId:`${n}`,allowSmallerSizes:!0,supplyType:"web",position:1===i?"above":void 0}}}class pi extends ui{customVideoBidParams(e,t){const i=t.mediaType();return this.customAdUnitParams(e,i)}customBannerBidParams(e,t){const i=t.mediaType();return this.customAdUnitParams(e,i)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i}=e;this.warnIfNotSet("placementId",i)}customAdUnitParams(e,t){const{pos:i}=t,{placementId:n}=e;return{placementId:`${n}`,allowSmallerSizes:!0,supplyType:"web",position:1===i?"above":void 0}}}class mi extends ui{customVideoBidParams(e,t,i){const n=this.customAdUnitParams(e,t.mediaType()),{maxduration:r,minduration:s,skip:o,api:a}=i.openRTB;return{...n,video:{maxduration:r,minduration:s,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const i=t.mediaType();return this.customAdUnitParams(e,i)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i}=e;this.warnIfNotSet("placementId",i)}customAdUnitParams(e,t){const{pos:i}=t,{placementId:n}=e;return{placementId:`${n}`,allowSmallerSizes:!0,supplyType:"web",position:1===i?"above":void 0}}}const hi=e=>{if(0===e.length)return null;const t=nt(e=>e.cpm,e);return new He(t.cpm.asUnits("EUR")-.01,"EUR",!1)};class bi extends I{createBidsForUnit(e,t,i,n){if(t.getBids().calculateAndSetGooglePriceFloor(hi),t.isVideo()){const e=t.getBids(),r=n.openRTB,{descriptionUrl:s}=i,{maxduration:o}=r,a=1===r.skip,d={descriptionUrl:s,maxDuration:o};e.setGoogleVideoBid(d,a)}}isBidderEnabledForUnit(e,t,i){const n=super.isBidderEnabledForUnit(e,t,i);return e.isVideo()?n:(n||this.warn("disabling googlebidder for banners is not supported"),!0)}checkSettings(e,t){if(super.checkSettings(e,t),t.isVideo()){const{descriptionUrl:t}=e;t||this.warnIfNotSet("descriptionUrl",t)}}}class gi extends ui{customVideoBidParams(e){return this.customUnitBidParams(e)}customBannerBidParams(e){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{host:i,adUnitId:n,adUnitType:r,publisherId:s}=e;this.warnIfNotSet("host",i),this.warnIfNotSet("publisherId",s),this.warnIfNotSet("adUnitId",n),this.warnIfNotSet("adUnitType",r)}checkBannerSettings(e,t){super.checkBannerSettings(e,t);const{adUnitType:i}=e;"banner"!==i&&this.warnWrongVariable("adUnitType",i)}checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{adUnitType:i}=e;"video"!==i&&this.warnWrongVariable("adUnitType",i)}customUnitBidParams(e){const{host:t,adUnitId:i,adUnitType:n,publisherId:r}=e;return{host:t,publisherId:r,adUnitId:i,adUnitType:n}}}class fi extends ui{customVideoBidParams(e,t,i){const n=this.customAdUnitParams(e,i),{openRTB:r}=i,s=r?.minduration??4,o=r?.maxduration??(r?.skip?60:15),a=1===r?.skip?15:void 0;return{...n,video:{...r,minduration:s,maxduration:o,skipmin:a}}}customBannerBidParams(e,t,i){return this.customAdUnitParams(e,i)}checkVideoSettings(e,t){super.checkVideoSettings(e,t)}createBidsForUnit(e,t,i,n){const{sizes:r}=i;r.forEach(r=>{const s=Object.assign({},i,{size:r.slice()}),o=this.toBid(e,s,t,n);t.addPrebidBid(o)})}customAdUnitParams(e,t){const{siteId:i,size:n}=e;return this.warnIfNotSet("size",n),{siteId:`${i}`,size:n,pageUrl:t.pageUrl}}checkSettings(e,t){super.checkSettings(e,t);const{siteId:i}=e;this.warnIfNotSet("siteId",i)}}class vi extends ui{customVideoBidParams(e){return this.customUnitBidParams(e)}customBannerBidParams(e){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i}=e;this.warnIfNotSet("placementId",i)}customUnitBidParams(e){const{placementId:t}=e;return{placementId:t}}}class Ai extends ui{customVideoBidParams(e){return this.customUnitBidParams(e)}customBannerBidParams(e){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{siteId:i,publisherId:n,placementId:r}=e;this.warnIfNotSet("siteId",i),this.warnIfNotSet("publisherId",n),this.warnIfNotSet("placementId",r)}customUnitBidParams(e){const{siteId:t,publisherId:i,placementId:n}=e;return{siteId:t,publisherId:i,placementId:n}}}class yi extends ui{customBannerBidParams(e,t,i){return this.customUnitBidParams(e,i)}customVideoBidParams(e,t,i){const{api:n,protocols:r,mimes:s,skip:o,...a}=i.openRTB;return{...this.customUnitBidParams(e,i),video:{...a,skip:o??0}}}createBidsForUnit(e,t,i,n){const{adSlot:r,addSizes:s=!0}=i,o=t.getSizes();return s&&r?void o.forEach(s=>{const[o,a]=s,d=`${r}@${o}x${a}`,c=Object.assign({},i,{adSlot:d}),u=this.toBid(e,c,t,n);t.addPrebidBid(u)}):super.createBidsForUnit(e,t,i,n)}customUnitBidParams(e,t){const{pageUrl:i}=t,{publisherId:n,adSlot:r}=e;return r?{publisherId:n||"",adSlot:r,kadpageurl:i}:{publisherId:n||"",kadpageurl:i}}checkSettings(e,t){super.checkSettings(e,t);const{publisherId:i}=e;this.warnIfNotSet("publisherId",i)}}class wi extends ui{customBannerBidParams(e){return this.customUnitBidParams(e)}customVideoBidParams(e){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{org:i,placementId:n}=e;this.warnIfNotSet("org",i),this.warnIfNotSet("placementId",n)}customUnitBidParams(e){const{org:t,placementId:i,testMode:n}=e;return{org:t,placementId:i,testMode:n}}}class Ci extends ui{customBannerBidParams(e){const t=this.customUnitBidParams(e),{sizes:i}=e;return{...t,...i&&{sizes:i}}}customVideoBidParams(e,t,i){this.checkVideoSizeSetting(e);const{sizes:n,language:r}=e,s=this.customUnitBidParams(e),o=i.openRTB,a=n?n[0]:null;return{...s,...a&&{size_id:a},video:{...o,language:r||"en"}}}checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{language:i}=e;this.warnIfNotSet("language",i)}customUnitBidParams(e){const{accountId:t,siteId:i,position:n,zoneId:r}=e;return{accountId:t||"",siteId:i||"",zoneId:r||"",...n&&{position:n}}}checkSettings(e,t){super.checkSettings(e,t);const{siteId:i,zoneId:n,accountId:r}=e;this.warnIfNotSet("siteId",i),this.warnIfNotSet("zoneId",n),this.warnIfNotSet("accountId",r)}checkVideoSizeSetting(e){const{sizes:t}=e;t&&1!==t.length&&this.warnWrongVariable("sizes",t)}}class Si extends ui{customBannerBidParams(e){return this.customUnitBidParams(e)}customVideoBidParams(e){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{publisherId:i,adUnitId:n,placement:r}=e;this.warnIfNotSet("publisherId",i),this.warnIfNotSet("adUnitId",n),this.warnIfNotSet("placement",r)}customUnitBidParams(e){const{publisherId:t,adUnitId:i,placement:n}=e;return{publisherId:t,adUnitId:i,placement:n}}}class Ii extends ui{customBannerBidParams(e){return this.customUnitBidParams(e)}customVideoBidParams(e){return this.customUnitBidParams(e)}customUnitBidParams(e){const{pkey:t}=e;return{pkey:t,iframe:!0}}checkSettings(e,t){super.checkSettings(e,t);const{pkey:i}=e;this.warnIfNotSet("pkey",i)}}class Bi extends ui{customBannerBidParams(e){return this.customUnitBidParams(e)}customVideoBidParams(e){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{sid:i}=e;this.warnIfNotSet("sid",i)}customUnitBidParams(e){const{sid:t}=e;return{sid:t}}}class Pi extends ui{customBannerBidParams(e,t,i){return this.customUnitBidParams(e,i)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e,i)}checkBannerSettings(e,t){super.checkBannerSettings(e,t),this.warn("should be disabled for banners")}customUnitBidParams(e,t){const{pageUrl:i}=t,{AV_PUBLISHERID:n,AV_CHANNELID:r,AV_CGINFO:s}=e;return{AV_PUBLISHERID:n,AV_CHANNELID:r,AV_CGINFO:s,AV_URL:i}}checkSettings(e,t){super.checkSettings(e,t);const{AV_PUBLISHERID:i,AV_CHANNELID:n}=e;this.warnIfNotSet("AV_PUBLISHERID",i),this.warnIfNotSet("AV_CHANNELID",n)}}class ki extends ui{customVideoBidParams(e,t,i){const n=this.customUnitBidParams(e,t.mediaType()),{maxduration:r,minduration:s,skip:o,api:a}=i.openRTB;return{...n,video:{maxduration:r,minduration:s,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const i=t.mediaType();return this.customUnitBidParams(e,i)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i,member:n}=e;this.warnIfNotSet("placementId",i),this.warnIfNotSet("member",n)}customUnitBidParams(e,t){const{placementId:i,member:n}=e,{pos:r}=t;return{placementId:i,member:n,allowSmallerSizes:!0,supplyType:"web",position:1===r?"above":void 0}}}class Mi extends ui{customBannerBidParams(e,t,i){return{}}checkBannerSettings(e,t){super.checkBannerSettings(e,t),this.warn("should be disabled for banners")}customVideoBidParams(e,t,i){const{placementId:n}=e;return{placementId:n}}checkSettings(e,t){super.checkSettings(e,t);const{placementId:i}=e;this.warnIfNotSet("placementId",i)}}class Ei extends ui{customVideoBidParams(e,t,i){return{}}checkVideoSettings(e,t){super.checkVideoSettings(e,t),this.warn("should be disabled for videos")}customBannerBidParams(e,t){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{customEndpoint:i,placementId:n}=e;this.warnIfNotSet("customEndpoint",i),this.warnIfNotSet("placementId",n)}customUnitBidParams(e){const{customEndpoint:t,placementId:i}=e;return{customEndpoint:t,placementId:i}}}class Ui extends ui{customBannerBidParams(e,t,i){return this.customBidParamsImpl(e)}customVideoBidParams(e,t,i){return this.customBidParamsImpl(e)}customBidParamsImpl(e){const{token:t}=e;return{token:t}}checkSettings(e,t){super.checkSettings(e,t);const{token:i}=e;this.warnIfNotSet("token",i)}}class Ti extends ui{customBannerBidParams(e,t,i){return this.customBidParamsImpl(e)}customVideoBidParams(e,t,i){const n=this.customBidParamsImpl(e),r={placement:zt.lX.INTERSTITIAL,plcmt:zt.KI.INTERSTITIAL};return{...n,video:{...i.openRTB,...r}}}customBidParamsImpl(e){const{supplySourceId:t,publisherId:i}=e;return{supplySourceId:t,publisherId:i}}checkSettings(e,t){super.checkSettings(e,t);const{supplySourceId:i,publisherId:n}=e;this.warnIfNotSet("supplySourceId",i),this.warnIfNotSet("publisherId",n)}}const zi="adx2.adform.net";class xi extends ui{customBannerBidParams(e,t,i){return this.customUnitBidParams(e,i.clientInfo?.country)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e,i.clientInfo?.country)}checkSettings(e,t){super.checkSettings(e,t);const{mid:i}=e;this.warnIfNotSet("mid",i)}customUnitBidParams(e,t){const{mid:i}=e;return{mid:i,adxDomain:this.getAdxDomain(t)}}getAdxDomain(e){if(!(0,C.O9)(e))return zi;const t=oe(e);if(!(0,C.O9)(t))return zi;switch(t.continent){case"Africa":case"Europe":return"adx.adform.net";case"Asia":case"Oceania":case"Antarctica":return"adx3.adform.net";case"North America":case"South America":return zi}}}class _i extends ui{customBannerBidParams(e,t,i){return this.customUnitBidParams(e)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{tagid:i}=e;this.warnIfNotSet("tagid",i)}customUnitBidParams(e){const{tagid:t}=e;return{tagid:t}}}class Ri extends ui{customBannerBidParams(e,t,i){return this.customUnitBidParams(e)}customVideoBidParams(e,t,i){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{tagId:i}=e;this.warnIfNotSet("tagId",i)}customUnitBidParams(e){const{tagId:t}=e;return{tagId:t}}}class Fi{static createBidder(e,t,i){const n=v(e,i||[]),r=Object.assign({},t,n);switch(e){case"appnexus":case"appnexus_server":return new li(e,r);case"google":return new bi(e,r);case"ix":case"ix_server":return new fi(e,r);case"pubmatic":case"pubmatic_server":return new yi(e,r);case"rubicon":case"rubicon_server":return new Ci(e,r);case"sharethrough":case"sharethrough_server":return new Ii(e,r);case"venatus":return new Pi(e,r);case"rise":case"rise_server":return new wi(e,r);case"stroeerCore":return new Bi(e,r);case"mediafuse":return new vi(e,r);case"amazon":return new di(e,r);case"adsense":return new ai(e,r);case"iionads":return new gi(e,r);case"webads":return new ki(e,r);case"goldbach":return new mi(e,r);case"beintoo":return new pi(e,r);case"seedtag":return new Si(e,r);case"ozone":return new Ai(e,r);case"connatix":return new Mi(e,r);case"invibes":return new Ei(e,r);case"ttd":return new Ti(e,r);case"alkimi":return new Ui(e,r);case"adf":return new xi(e,r);case"sovrn":return new _i(e,r);case"nexx360":return new Ri(e,r)}}static createBidders(e,t){const i=w().map(i=>{const n=v(i,e.bidders||[]),r=Object.assign({code:i,video:{placements:{}}},n);return this.createBidder(i,r,t.bidders)});let n=null,r=null,s=null;const o=[];return i.forEach(e=>{switch(e.code){case"google":n=e;break;case"amazon":r=e;break;case"adsense":s=e;break;default:return void o.push(e)}}),{google:this.checkIfFailedToCreate("google",n),amazon:this.checkIfFailedToCreate("amazon",r),prebid:o,adsense:this.checkIfFailedToCreate("adsense",s)}}static checkIfFailedToCreate(e,t){if(t)return t;throw new Error(`[BidderFactory] failed to create ${e}`)}}var Oi=o(4245);function Ni(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ji{constructor(e,t){Ni(this,"adRequester",void 0),Ni(this,"requestManager",void 0),Ni(this,"requestPromise",void 0),Ni(this,"adUnits",void 0),Ni(this,"options",void 0),Ni(this,"bidders",void 0),Ni(this,"prebidAdUnits",void 0),Ni(this,"apstagSlots",void 0),Ni(this,"apstagRequestTimeoutHit",!1),Ni(this,"advertisingConfig",void 0),Ni(this,"adRequestResponse",{}),this.adRequester=e,this.advertisingConfig=t,this.adUnits=[],this.prebidAdUnits=null,this.apstagSlots=null,this.requestManager=new Tt(["amazon","prebid"]),this.requestPromise=null}requestAds(e,t){return this.requestPromise=(0,Oi.v)(),0===e.length?(h.debug("[AdRequest] No renderable ad units requested"),this.requestPromise.resolve(this.adRequestResponse),this.requestPromise.promise):(this.adUnits=e,this.options=t,this.createBidders(),this.adRequester.loadScripts(e=>{h.debug(`[AdRequest] ${e} failed to loaded`),this.auctioneerRequestFinished(e)},!!t.disableBlockthrough),this.processAds(t.clientInfo.country),this.requestPromise.promise)}async processAds(e){this.setAdsenseBids(),this.adRequester.loadAdsenseIfBid(),this.setNonGoogleBids(),this.setupAndRequestApstag(e),this.setupAndRequestPrebid()}async auctioneerRequestFinished(e){h.debug(`[AdRequest] ${e} finished`),this.requestManager.setAuctioneerFinished(e),this.requestManager.haveBiddersFinished()&&(this.adUnits.forEach(e=>{e.onAuctionResult({})}),this.requestPromise?.resolve(this.adRequestResponse))}retrieveRequestTimeout(e){const{timeout:t}=e;return(0,C.O9)(t)?t:1200}noAmazonBids(){return 0===this.getRequestedApstagSlots().length}noPrebidUnits(){return 0===this.getRequestedPrebidAdUnits().length}noPrebidBids(){const e=this.getRequestedPrebidAdUnits();return 0===e.length||e.every(e=>0===e.bids.length)}prebidBidders(){return this.bidders.prebid}createBidders(){this.bidders=Fi.createBidders(this.advertisingConfig,this.options)}setAdsenseBids(){this.adRequester.setBidsForUnits(this.adUnits,this.options,[this.bidders.adsense])}setNonGoogleBids(){this.adRequester.setBidsForUnits(this.adUnits,this.options,[...this.bidders.prebid,this.bidders.amazon])}setAmazonBids(e){const t=e.filter(e=>"video"===e.mediaType),i=e.filter(e=>"video"!==e.mediaType);this.setAmazonVideoBids(t),this.setAmazonBannerBids(i)}setAmazonVideoBids(e){const t=this.adUnits.filter(si);if(t.length>0){const i=t[0],n=e.map(e=>i.getBids().processAmazonBid(e)).filter(C.O9),r=Ze(n.map(e=>e.cpm),Ke()),s=i.code();this.adRequestResponse[s]=this.adRequestResponse[s]||{bids:[]},r.isGreaterThanZero()&&this.adRequestResponse[s].bids.push({bidder:"amazon",cpm:Pt(r),responseTime:Date.now()}),i.getBids().setAmazonBid(n),t.length>1&&h.warn("[apstag] got multiple video units, cant deal with those")}}setAmazonBannerBids(e){const t=this.adUnits.filter(e=>e.isBanner());e.forEach(e=>{const{slotID:i}=e,n=t.find(e=>e.code()===i);if(!n)return void h.warn("[apstag] bid without matching unit");const r=n.getBids().processAmazonBid(e);r&&(this.adRequestResponse[i]=this.adRequestResponse[i]||{bids:[]},r.cpm.isGreaterThanZero()&&this.adRequestResponse[i].bids.push({bidder:"amazon",cpm:Pt(r.cpm),responseTime:Date.now()}),n.getBids().setAmazonBid([r]))})}setupAndRequestPrebid(){this.noPrebidUnits()||this.adRequester.getPrebidFailedToLoad()?this.auctioneerRequestFinished("prebid"):i().que.push(()=>{this.setPrebidBidderSettings(),this.prebidAddAdUnits(),this.prebidRequestBids()})}getAdFormat(){return this.adUnits[0]?.getAdFormat()??"banner"}setPrebidBidderSettings(){const e=r(),t=this.getAdFormat(),i=this.prebidBidders().reduce((e,i)=>{const n=_.getBidderDiscrepancyForSession(i.code,this.options.clientInfo,t),r=_.getBidderCostForSession(i.code,this.options.clientInfo,t);return Object.assign({},e,i.getPrebidBidderSettings(r,n))},{standard:{bidCpmAdjustment:e=>e,storageAllowed:!1,suppressEmptyKeys:!0}});e.bidderSettings=i}prebidAddAdUnits(){const e=r(),t=this.getRequestedPrebidAdUnits();t.forEach(t=>{e.removeAdUnit(t.code)}),e.addAdUnits(t)}prebidRequestBids(){const e=r();this.noPrebidBids()?this.auctioneerRequestFinished("prebid"):e.requestBids({adUnits:this.getRequestedPrebidAdUnits(),bidsBackHandler:async(t,i)=>{if(void 0===t)return h.debug("[Prebid] no responses"),void this.auctioneerRequestFinished("prebid");const n=this.adUnits.filter(si)[0]??null,r=n?.code()??null;r?this.adRequestResponse[r]=this.adRequestResponse[r]||{bids:[]}:this.adUnits.forEach(e=>{const t=e.code();this.adRequestResponse[t]=this.adRequestResponse[t]||{bids:[]}}),Object.keys(t).forEach(e=>{const i=t[e].bids.map(e=>({bidder:e.bidderCode,cpm:e.cpm,responseTime:e.responseTimestamp}));this.adRequestResponse[r??e].bids.push(...i)}),await Et.getInstance().filterBids(e,t),this.auctioneerRequestFinished("prebid")},timeout:this.retrieveRequestTimeout(this.options)})}getRequestedPrebidAdUnits(){return null===this.prebidAdUnits&&(this.prebidAdUnits=this.adRequester.getPrebidAdUnitsForUnits(this.adUnits)),this.prebidAdUnits}async setupAndRequestApstag(e){if(this.noAmazonBids()||this.adRequester.getApstagFailedToLoad())return void this.auctioneerRequestFinished("amazon");this.adRequester.loadAmazon(e,()=>{this.options.disableBlockthrough||We.loadIfNeeded().catch(()=>{}),this.auctioneerRequestFinished("amazon")}),await this.adRequester.initializeApstag(this.options),await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})});let t=null;try{const e={slots:this.getRequestedApstagSlots(),timeout:this.retrieveRequestTimeout(this.options)};h.debug(`[apstag] ${JSON.stringify(e)}`),this.apstagRequestTimeoutHit=!1,t=window.setTimeout(()=>{h.debug("[apstag] timeout"),this.apstagRequestTimeoutHit=!0,this.auctioneerRequestFinished("amazon")},e.timeout+100),await this.setAmazonUser(),u().fetchBids(e,e=>{(0,C.O9)(t)&&window.clearTimeout(t),this.apstagRequestTimeoutHit||(h.debug("[apstag] bids back"),e.forEach(e=>{h.debug(`[apstag]${mt(e)?"(no bids available)":""} ${JSON.stringify(e)}`)}),this.setAmazonBids(e.filter(e=>!mt(e))),this.auctioneerRequestFinished("amazon"))})}catch(e){h.error(e),(0,C.O9)(t)&&window.clearTimeout(t),this.auctioneerRequestFinished("amazon")}}async setAmazonUser(){const e=this.options.clientInfo?.country;if(!e||!ne(e))return;const{user:t}=this.options;if(!t)return;if(h.debug("[AdRequest] Setting user info",t),!t.email||!t.amazon?.applicable)return new Promise(e=>{u().dpa(e)});h.debug("[AdRequester] Setting email in apstag");const i={hashedRecords:[{type:"email",record:await async function(e){const t=(new TextEncoder).encode(e),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.email)}]};return new Promise(e=>{u().upa(i,e)})}getRequestedApstagSlots(){return null===this.apstagSlots&&(this.apstagSlots=this.adRequester.getApstagSlotsForUnits(this.adUnits)),this.apstagSlots}}function Li(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const qi=new class{constructor(){Li(this,"cache",void 0),this.cache=new Map}getHighestBidForSlotIds(e,t){const i=[];for(const t of e){const e=this.getBidsForSlot(t);e.length>0&&i.push(...e)}const n=this.getBidsForSizes(i,t);return this.getHighestBid(n)}cacheBid(e,t){if(!e.cpm.isGreaterThanZero())return;const i={...e,receivedAt:Date.now(),used:!1,adFormat:t.adFormat},n=this.getBidsForSlot(e.slotID)||[];this.cache.set(e.slotID,[...n,i])}getBidsForSlot(e){const t=this.cache.get(e);if(!t)return[];const i=t.filter(e=>this.isValidBid(e));return h.debug(`[AmazonBidCache] getBidsForSlot(${e})`,t,`${i.length} valid bids`),this.cache.set(e,i),i}markBidAsUsed(e){h.debug("[AmazonBidCache] markBidAsUsed",e);let t=null;return this.cache.forEach(i=>{i.forEach(i=>{i.amzniid===e&&(h.debug("[AmazonBidCache] Found bid to mark as used",i),i.used=!0,t=i)})}),t}reset(){this.cache.clear()}getHighestBid(e){return 0===e.length?null:e.reduce((e,t)=>t.cpm.isGt(e.cpm)||t.cpm.isEq(e.cpm)&&t.receivedAt<e.receivedAt?t:e,e[0])}isValidBid(e){const t="video"===e.adFormat?25e4:15e4,i=e.receivedAt+t;return Date.now()<i&&!e.used}getBidsForSizes(e,t){if(0===t.length)return e;const i=t.map(e=>`${e[0]}x${e[1]}`);return e.filter(e=>i.includes(e.amznsz))}};function Gi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Di=class extends $t{constructor(e){super(),Gi(this,"unit",void 0),Gi(this,"slot",void 0),Gi(this,"apstagSlot",void 0),this.unit=e}resetPriceFloorsAndBids(){super.resetPriceFloorsAndBids()}getAmazonBid(){return h.debug(`[BannerBids] Unit: ${this.unit.code()}. Using Amazon bid cache with slot ids: ${this.apstagSlotIds}`),qi.getHighestBidForSlotIds(this.apstagSlotIds,this.unit.getSizes())}setAmazonBid(e){e.length>1&&h.warn(`[Bids] ${this.unit.code()} Multiple Amazon bids received for a banner when only one was expected`,e);const t=e[0];qi.cacheBid(t,{adFormat:"banner"})}getApstagSlots(){return this.apstagSlot?[this.apstagSlot]:void 0}setApstagSlots(){if(this.apstagSlot){const e=this.computeApsPriceFloor();e&&(this.apstagSlot.floor=ut(e))}}addApstagSlot(e){this.apstagSlotIds.push(e);const{slotId:t}=this.unit.requestUnit;this.apstagSlot={slotID:e,slotName:t,sizes:this.unit.getSizes()}}removeApstagSlots(){this.apstagSlot=void 0,this.apstagSlotIds=[]}slotId(){return this.slot?this.slot.getAdUnitPath():null}getSlot(){if(!this.slot)throw new Error(`[AdUnit] ${this.unit.code()} expected to have googletag slot`);return this.slot}findSlot(e){if(this.slot)return this.slot;return d().pubads().getSlots().find(t=>t.getSlotElementId()===e)}defineSlot(){if(this.slot)return;const e=d();if(this.slot=e.defineSlot(this.unit.requestUnit.slotId,this.unit.getSizes(),this.unit.elementId()),this.slot)this.slot.addService(e.pubads());else{const e=this.findSlot(this.unit.elementId());this.slot=e}h.debug("[BannerBids] Created slot",this.slot)}markSlotAsDestroyed(){this.slot=void 0}setSlotTargeting(e){const t=this.getSlot(),i=this.getGooglePriceFloor(),n={[this.impressionKey]:e.toString()};return null!==i&&(n[this.priceFloorKey]=this.priceFloorTargeting(i)),t.updateTargetingFromMap(n),t}getPrebidPriceBuckets(){return At}};function Vi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Wi extends ni{constructor(e,t){super(e,t),Vi(this,"maxHouseAdRenderInRow",void 0),Vi(this,"bids",void 0),Vi(this,"requestUnit",void 0),Vi(this,"requestOptions",void 0),Vi(this,"unitHasBeenDisplayed",!1),Vi(this,"unitIsFilled",!1),this.requestUnit=e,this.requestOptions=t,this.bids=new Di(this),this.maxHouseAdRenderInRow=4}getBids(){return this.bids}mediaType(){return this.requestUnit.adUnit.mediaTypes.banner}isBanner(){return!0}getAdFormat(){return"banner"}display(){this.unitHasBeenDisplayed||(this.unitHasBeenDisplayed=!0,d().display(this.elementId()))}bidParamsForBidder(e,t,i){return e.customBannerBidParams(t,this,i)}checkBidderSettings(e,t){return t.checkBannerSettings(e,this)}async onAuctionResult(e){}canRender(){return(0===this.numberOfImpressions||!this.getBids().hasAdsenseBidRendered())&&this.maxHouseAdRenderInRow>this.houseAdWasRenderedInRowCounter}async resetForRender(e,t){let i=!1;if(function(e,t){return t.some(t=>!e.some(e=>e[0]===t[0]&&e[1]===t[1]))}(Ht(this.requestUnit.adUnit),Ht(e.adUnit))&&(m.debug("[AdRequester] Remaking slots because new unit contains different banner sizes"),await this.remakeSlot(),i=!0),super.resetForRender(e,t),!i&&this.numberOfImpressions>0&&this.numberOfImpressions%Wi.maxImpressionsBeforeRemakingSlots===0)return m.debug("[AdRequester] Remaking slots because of max impressions reached"),this.remakeSlot()}findSlot(){const{slotId:e}=this.requestUnit;return e||m.error(`[AdUnit] Missing Slotid for ${this.code()}`),this.bids.findSlot(this.elementId())}getSlot(){return this.bids.getSlot()}slotId(){return this.bids.slotId()}defineSlot(){const{slotId:e}=this.requestUnit;e||m.error(`[AdUnit] Missing Slotid for ${this.code()}`),this.bids.defineSlot()}markSlotAsDestroyed(){this.bids.markSlotAsDestroyed()}increaseNumberOfImpressions(){this.numberOfImpressions+=1}increaseNumberOfRequests(){this.numberOfRequests+=1}getUnitIsFilled(){return this.unitIsFilled}setUnitIsFilled(e){this.unitIsFilled=e}renderedNonHouseAd(){m.debug(`[BannerUnit] ${this.code()} rendered non house ad`),this.houseAdWasRenderedInRowCounter=0}renderedHouseAd(){m.debug(`[BannerUnit] ${this.code()} rendered house ad`),this.houseAdWasRenderedInRowCounter++}setSlotTargeting(){this.bids.setSlotTargeting(this.numberOfImpressions)}getMinPricePaidForUnit(e,t){return this.bids.getMinPricePaidForUnit(e,t)}invokeCallback(e,t,i,n,r){const{banner:s}=this.requestUnit,o=s&&s.callback||r;if(m.debug("[BannerUnit] invoking callback",o),o)try{o({empty:t,size:i,code:this.code(),slotId:this.bids.slotId(),houseAd:n,minPrice:Pt(e)})}catch(e){m.error(`[BannerUnit] ${this.code()}, err in invoking callback`,e)}}remakeSlot(){return new Promise(e=>{a().cmd.push(()=>{const t=d(),i=this.findSlot();i&&(i.clearTargeting(),t.destroySlots([i]),this.markSlotAsDestroyed(),this.defineSlot()),e()})})}}function $i(e){return null!=e&&e.isBanner()}Vi(Wi,"houseAdWasRenderedTwiceInRowKey","house_ad_twice_row"),Vi(Wi,"maxImpressionsBeforeRemakingSlots",64);const Hi=Wi;const Ki=class{static createAdUnit(e,t){const i=Re(e),n=_e(e);return n&&i&&m.warn(`[AdUnitFactory] ${e.adUnit.code} has multiple formats`),n?new Hi(e,t):i?new oi(e,t):(m.error(`[AdUnitFactory] ${e.adUnit.code} has no supported formats`),null)}};function Zi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ji=new class{constructor(){Zi(this,"listeners",[]),Zi(this,"listenerInstalled",!1),Zi(this,"internalListener",e=>{this.listeners.forEach(t=>{t(e)})})}removeAllListeners(){this.listeners=[],this.removeListener()}addListener(e){this.installListener(),this.listeners.push(e)}installListener(){if(this.listenerInstalled)return;this.listenerInstalled=!0;d().pubads().addEventListener("slotRenderEnded",this.internalListener)}removeListener(){if(!this.listenerInstalled)return;d().pubads().removeEventListener("slotRenderEnded",this.internalListener),this.listenerInstalled=!1}};function Qi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Yi=[138449654392,138233616993,138233616990,138233681903,138233616984,138233616981,138233681900,138233681897,138233738059,138233738062,138233681894],Xi=["amznactt","amznbid","amzniid","amznp","amznsz"],en={amznbid:2,amznp:2};const tn=class{constructor(){Qi(this,"renderListener",Ji),Qi(this,"googleTagEnabled",!1)}render(e,t,n,r,s,o,c){if(0===e.length)return Promise.resolve();const{adsenseUnits:u,amazonAndPrebidUnits:l}=this.groupAdunitsByType(e);if(u.length>0&&this.renderAdsense(u),0===l.length)return Promise.resolve();const p=l.reduce((e,t)=>({...e,[t.code()]:t.getMinPricePaidForUnit(!1,!1)}),{}),m=this.processSlotRenderedEvent(e,H.advertiserIds||[],s.banner||{},p);return new Promise(e=>{a().cmd.push(()=>{const s=d();this.renderListener.removeAllListeners(),this.renderListener.addListener(m),l.forEach(e=>e.increaseNumberOfImpressions()),s.pubads().clearTargeting(),i().que.push(async()=>{this.setAmazonTargeting(r),this.createGamObjects(l,t,c),this.setPrebidTargeting(n),await this.showNonAdsenseAds(l,o),e()})})})}renderAdsense(e){m.debug(`[BannerRenderer] Rendering AdSense for units: ${e.map(e=>e.code()).join(", ")}`),e.forEach(e=>{e.getBids().setAdsenseRendered(),l.getInstance().getAdsenseWindow().push({})})}async showNonAdsenseAds(e,t){const i=d();await Ve()&&!t&&await We.loadIfNeeded(!0).catch(()=>{}),e.forEach(e=>e.display()),e.length>0&&i.pubads().refresh(e.map(e=>e.getSlot()))}createGamObjects(e,t,i){this.enableGoogletag(i),this.createGamTargets(e,t)}enableGoogletag(e){if(this.googleTagEnabled)return;this.googleTagEnabled=!0;const t=d();if(t.pubads().enableSingleRequest(),e){const i="organic"===e?t.enums.TrafficSource.ORGANIC:t.enums.TrafficSource.PURCHASED;t.pubads().setPrivacySettings({trafficSource:i})}t.enableServices()}createGamTargets(e,t){Object.entries(t).forEach(e=>{let[t,i]=e;t&&i&&this.setGamTarget(t,i)}),e.forEach(e=>e.setSlotTargeting())}setGamTarget(e,t){if(null==t)return;let i;m.debug(`[googletag] Target ${e} ${t}`),i=Array.isArray(t)?t.map(e=>`${e}`):`${t}`,d().pubads().setTargeting(e,i)}setAmazonTargeting(e){0===e.length||e.forEach(e=>{const t=d().pubads().getSlots().find(t=>t.getSlotElementId()===e.slotID);if(t){const i=qi.getHighestBidForSlotIds([e.slotID],e.sizes);i?Xi.forEach(e=>{const n=i[e];n&&t.setTargeting(e,n)}):Object.entries(en).forEach(e=>{let[i,n]=e;t.setTargeting(i,n.toString())})}else m.warn(`[BannerRenderer] No googletag slot found for apstag slot with ID ${e.slotID}`)})}setPrebidTargeting(e){const t=r();0===e.length||(t.setTargetingForGPTAsync(e.map(e=>e.code)),t.registerSignalSources())}processSlotRenderedEvent(e,t,i,n){return r=>{const{advertiserId:s,slot:o}=r,a=e.filter(e=>e.slotId()===o.getAdUnitPath());if(0===a.length)return void m.warn(`[BannerRenderer] No matching unit for slot ${o.getAdUnitPath()}`);if(a.length>1)return void m.warn(`[BannerRenderer] Multiple units (${a.length}) for slot ${o.getAdUnitPath()}`);const d=a[0];d.getBids().hasAdsenseBid()&&m.warn(`[BannerRenderer] Received a googletag slotRenderEnded event for a unit with an AdSense bid: ${d.code()}`),this.updateUnitFillState({unit:d,bannerOptions:i},{event:r,slot:o});const c=!d.getUnitIsFilled(),u={size:r.size,isEmpty:c},l=this.checkIfHouseAd(s,t,d);this.updateAmazonState(r),this.invokeUnitCallback(u,d,l,i.callback,n[d.code()])}}checkIfHouseAd(e,t,i){const n=null===e||t.some(t=>t===e);return n?i.renderedHouseAd():i.renderedNonHouseAd(),n}invokeUnitCallback(e,t,i,n,r){t.invokeCallback(r,e.isEmpty,e.size,i,n)}updateUnitFillState(e,t){const{unit:i,bannerOptions:n}=e,{event:r,slot:s}=t;if(!1===r.isEmpty)i.setUnitIsFilled(!0);else{const e=n.unitOptions?.[i.code()]?.clearSlotIfEmpty;e&&i.getUnitIsFilled()&&(d().pubads().clear([s]),i.setUnitIsFilled(!1))}}updateAmazonState(e){const t=e.slot.getSlotElementId(),i=e.slot.getTargeting("amzniid"),n=i?.[0];if(n){const i=u().debug("getState"),r=e.slot.getResponseInformation(),s=r?e.slot.getHtml():"",o=!(!s.includes("apstag.renderImp")||!s.includes(n)),a=Yi.includes(r?.creativeId??0);o!==a&&m.error(`[BannerRenderer] isAmazonWin (from the slot html) ${o} is not equal to isAmazonCreative (based on the banner creative ids) ${a}`),o&&qi.markBidAsUsed(n);(i?.slotBids?.[t]||[]).forEach(e=>{const{bidConfig:t}=e;o&&t.amzniid===n&&(e.bidState="RENDERED"),(t.amzniid===n&&"RENDERED"!==e.bidState||t.amzniid!==n&&"SET"===e.bidState)&&(e.bidState="EXPOSED")})}}groupAdunitsByType(e){const t=[],i=[];return e.forEach(e=>{e.getBids().hasAdsenseBid()?t.push(e):i.push(e)}),{adsenseUnits:t,amazonAndPrebidUnits:i}}};const nn=class{constructor(){}async render(e,t,i){const{video:n}=t;await Promise.all(e.map(async e=>{const s=await e.getBids().buildGamUrlWithConsent(r(),t,i);return m.debug(`[VideoRenderer] URL generated for ${e.code()}: ${s}`),e.invokeGamUrlConstructedCallback(s,n.callback)}))}};function rn(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const sn=class{constructor(){rn(this,"videoRenderer",void 0),rn(this,"bannerRenderer",void 0),rn(this,"gamParams",void 0),rn(this,"videoOptions",void 0),rn(this,"bannerOptions",void 0),this.videoRenderer=new nn,this.bannerRenderer=new tn,this.gamParams=this.defaultGamKeys(),this.videoOptions=null,this.bannerOptions=null}async render(e,t,i,n){const{video:r,banner:s}=this.splitUnitsByType(e);this.gamParams=Object.assign(this.defaultGamKeys(),t.gam),this.videoOptions=Object.assign(this.videoOptions??{},t),this.bannerOptions=Object.assign(this.bannerOptions??{},t),await Promise.all([this.bannerRenderer.render(s,this.gamParams,i,n,this.bannerOptions,!!t.disableBlockthrough,t.trafficSource),this.videoRenderer.render(r,this.videoOptions,this.gamParams)])}splitUnitsByType(e){const t={video:[],banner:[]};return e.forEach(e=>{si(e)?t.video.push(e):t.banner.push(e)}),t}defaultGamKeys(){return Object.assign({},$.advertising.gam||{})}};function on(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class an{constructor(e){on(this,"config",void 0),on(this,"amazonConfig",void 0),on(this,"prebidAdUnits",void 0),on(this,"adUnits",void 0),on(this,"renderer",void 0),on(this,"isApstagInitialized",void 0),on(this,"isPrebidInitialized",void 0),on(this,"isGoogletagInitialized",void 0),on(this,"prebidFailedToLoad",void 0),on(this,"apstagFailedToLoad",void 0),on(this,"lastUsedUserEmail",void 0),on(this,"lastUsedCountry",void 0),this.config=e,Ie.getInstance().onUserEmailChanged(this.lastUsedUserEmail),Ie.getInstance().onCountryChanged(this.lastUsedCountry),this.adUnits=[],this.prebidAdUnits=[],this.renderer=new sn,this.isApstagInitialized=!1,this.isPrebidInitialized=!1,this.isGoogletagInitialized=!1,this.prebidFailedToLoad=!1,this.apstagFailedToLoad=!1,a().cmd.push(()=>{const e=d();e.pubads().disableInitialLoad(),e.setConfig({threadYield:"ENABLED_ALL_SLOTS"})})}async requestAds(e,t){m.debug("[AdRequester] Requesting ads",e,"with options",t),this.updateLastUsedUserEmail(t.user?.email??void 0),this.updateLastUsedCountry(t.clientInfo?.country??void 0),this.isPrebidInitialized?this.updatePrebidConfig(t):this.setPrebidConfig(t);const i=[Ne(),W.waitTillLoaded()];e.units.some(e=>_e(e))&&i.push(le.loadIfNeeded().catch(()=>{t.disableBlockthrough||We.loadIfNeeded().catch(()=>{})})),await Promise.allSettled(i),await this.createAndUpdateAdUnits(e,t);const n=e.codes??e.units.map(e=>e.adUnit.code);let r=this.selectRequestedUnits(n);r.some($i)&&r.some(si)&&(m.error("[AdRequester] Mixing banner and video units is not support. Will only handle the banner units"),r=r.filter($i));const s=new ji(this,this.config),o=await s.requestAds(r,t);return m.debug("[AdRequester] Finished requesting ads with result",o),o}reset(){this.adUnits=[],this.prebidAdUnits=[];const e=n();return void 0!==e&&e.removeAdUnit(),this.isPrebidInitialized=!1,this.isGoogletagInitialized=!1,this.destroyGamSlots()}updateLastUsedUserEmail(e){const t=this.lastUsedUserEmail;this.lastUsedUserEmail=e,t!==this.lastUsedUserEmail&&(Ie.getInstance().onUserEmailChanged(this.lastUsedUserEmail),this.updatePrebidUserIds())}updateLastUsedCountry(e){const t=this.lastUsedCountry;this.lastUsedCountry=e,t!==this.lastUsedCountry&&(Ie.getInstance().onCountryChanged(this.lastUsedCountry),this.updatePrebidUserIds())}async createAndUpdateAdUnits(e,t){e.units.forEach(e=>{const i=e.adUnit.code,n=this.adUnits.map(e=>e.code()).indexOf(i);if(n>-1){const i=this.adUnits[n];if(i.isBanner())i.resetForRender(e,t),i.increaseNumberOfRequests();else{const i=Ki.createAdUnit(e,t);this.adUnits[n]=i}}});const i=e.units.filter(e=>!this.adUnits.map(e=>e.code()).includes(e.adUnit.code)).map(e=>Ki.createAdUnit(e,t)).filter(e=>null!==e),n=i.filter(e=>e.isBanner());n.length>0&&await this.createGamSlots(n),this.adUnits.push(...i)}selectRequestedUnits(e){const t=this.adUnits.filter(t=>e.includes(t.code())),i=t.filter(e=>e.canRender());return m.debug(`[AdRequester] Requesting ${t.length} units, of which ${i.length} can actually be rendered and will be included`,i.map(e=>e.code())),i}addPrebidUnit(e){this.prebidAdUnits.push(e)}removePrebidUnit(e){this.prebidAdUnits=this.prebidAdUnits.filter(t=>t.code!==e)}setApstagConfig(e){this.amazonConfig=e}getPrebidFailedToLoad(){return this.prebidFailedToLoad}getApstagFailedToLoad(){return this.apstagFailedToLoad}getPrebidAdUnits(){return this.prebidAdUnits}setBidsForUnits(e,t,i){e.forEach(e=>{try{e.setBids(this,i,t);const n=e.getBids().getPrebidUnits();i.some(e=>"amazon"===e.code)&&e.setApstagSlots();(si(e)?e.getAllCodes():[e.code()]).forEach(e=>this.removePrebidUnit(e)),n.forEach(e=>this.addPrebidUnit(e))}catch(t){m.error(`[AdRequest] ${e.code} error in setBids`,t)}})}loadScripts(e,t){xe.loadIfNeeded().catch(()=>{t||We.loadIfNeeded(!0).catch(()=>{m.error("[AdRequester] Failed to load blockthrough")}),this.prebidFailedToLoad=!0,e("prebid")}),t||We.loadIfNeeded().catch(()=>{m.error("[AdRequester] Failed to load blockthrough")})}loadAdsenseIfBid(){this.adUnits.some(e=>e.getBids().hasAdsenseBid())&&Q.loadIfNeeded().catch(()=>{m.error("[AdRequester] failed to load adsense")})}async loadAmazon(e,t){m.debug("[AdRequester] loading and initializing amazon");try{await ce.getInstance(e).loadIfNeeded()}catch{m.debug("[AdRequester] Apstag failed to load"),this.apstagFailedToLoad=!0,t()}}setPrebidConfig(e){this.isPrebidInitialized=!0;const{pageUrl:t}=e,n=this.getConsentConfig(e),s=this.getUserSyncConfig(e),o={useBidCache:!e.noBidCaching,bidCacheFilterFunction:(a=this.createPrebidBidCacheFilterFunction(),e=>{const t=Bt(e);return a(t)})};var a;const d=this.getExperiments()[he]?{realTimeData:{auctionDelay:2e3,dataProviders:[{name:"hadron",waitForIt:!0,params:{segmentCache:!1,partnerId:631}}]}}:{},c=function(){const e=[...f.zV];if(e.length<=0)return null;const t={};return e.forEach(e=>t[e]=e.substring(0,e.length-f._y.length)),{enabled:!0,adapter:"prebidServer",accountId:"org_Fotp3FygJ5uSd5oEJ",bidders:e,endpoint:{p1Consent:"https://pbs-us-east.ay.delivery/openrtb2/auction",noP1Consent:"https://pbs-us-east.ay.delivery/openrtb2/auction"},syncEndpoint:{p1Consent:"https://pbs-us-east.ay.delivery/cookie_sync",noP1Consent:"https://pbs-us-east.ay.delivery/cookie_sync"},extPrebid:{aliases:t}}}(),u=this.getGvlMapping();i().que.push(()=>{const i=r();w().filter(A).forEach(e=>{const t=dn(e);null!==t&&i.aliasBidder(t.alias,e,{gvlid:t.gvlid})}),i.setConfig({...e.pbjsConfig,minBidCacheTTL:60,eventHistoryTTL:60,gptPreAuction:{enabled:!0,useDefaultPreAuction:!0},enableTIDs:!0,pageUrl:t||e.pbjsConfig?.pageUrl,ortb2:this.ortb2Config(e)||void 0,floors:{enforcement:{bidAdjustment:!0,enforceJS:!0,floorDeals:!0,enforcePBS:!0}},userSync:s,rubicon:{singleRequest:!0},...o,enableSendAllBids:!0,targetingControls:{allBidsCustomTargeting:!1},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userIdTargeting:{GAM:!0},mediaTypePriceGranularity:{video:{buckets:It},banner:{buckets:St}},disableAjaxTimeout:!0,...n,sendBidsControl:{bidLimit:1},...d,s2sConfig:c??void 0,gvlMapping:u})})}createPrebidBidCacheFilterFunction(){return e=>(e=>e.cpm.isGreaterThanZero())(e)&&(e=>e.responseTimestamp+1e3*e.ttl+1e3>(new Date).getTime())(e)}updatePrebidConfig(e){const{pageUrl:t}=e,n=this.getConsentConfig(e),s=this.getUserSyncConfig(e);i().que.push(()=>{r().mergeConfig({...e.pbjsConfig,pageUrl:t||e.pbjsConfig?.pageUrl,ortb2:this.ortb2Config(e)||void 0,useBidCache:!e.noBidCaching,...n,...s})})}getConsentConfig(e){const t=e.clientInfo?.country;if(!t)return{};if(ie(t)){return{consentManagement:{gdpr:{cmpApi:"iab",timeout:1e3,defaultGdprScope:!0}}}}if(ne(t)){return{consentManagement:{gpp:{cmpApi:"iab",timeout:1e3}}}}return{}}getUserSyncConfig(e){const t={syncDelay:15e3,encryptedSignalSources:{sources:[{source:["criteo.com","adserver.org","id5-sync.com","sharedid.org"],encrypt:!1}]}},i=[{name:"criteo"},{name:"unifiedId",params:{partner:"c67xkla"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}},{name:"id5Id",params:{partner:377},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"sharedId",storage:{name:"sharedid",type:"cookie"},params:{syncTime:86400}},{name:"lotamePanoramaId"}],n=this.getExperiments(),r=n[ge],s=n[pe],o=n[be],a=n[he],{user:d}=e;if(r&&d?.email&&i.push({name:"uid2",params:{email:d.email,..."prod"===Y?{subscriptionId:"riMWtTJCBu",serverPublicKey:"UID2-X-P-MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEjW+JEvJ+KsLeM9aimChBr//9M5kuzJ1Xcl6oC1hQ7K6S6ezNd1odmmLwViFqhyhZaW3OdLk4DaSuacb3jQHQDQ=="}:{subscriptionId:"BqiByygVb1",serverPublicKey:"UID2-X-I-MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEBadWafCpLrydg5Ulc2NprnsZiXv66yiN+UsgSSx1k57SeTRcVvt0Z99gj0eaxiUyaDC830kUUlgU5tXNjCfZPg==",uid2ApiBase:"https://operator-integ.uidapi.com"}}}),s){const e=["pubmatic","rubicon","ix","sharethrough","sovrn","ttd"];i.push({name:"liveIntentId",bidders:e,params:{emailHash:d?.email??"",publisherId:"84896",requestedAttributesOverrides:{uid2:!0,pubmatic:!0,magnite:!0,index:!0,sharethrough:!0,sovrn:!0,thetradedesk:!0}},storage:{name:"__tamLIResolveResult",type:"html5",expires:1}})}o&&(i.push({name:"identityLink",params:{pid:"13431"},storage:{type:"html5",name:"idl_env",expires:1}}),i.push({name:"pairId",params:{liveramp:{storageKey:"_lr_pairId"}}})),a&&i.push({name:"hadronId",params:{partnerId:631}}),t.userIds=i;const c=f.bz.filter(e=>this.includeBidderInIframeUserSync(e));return t.filterSettings={iframe:{bidders:c,filter:"include"}},t}includeBidderInIframeUserSync(e){switch(e){case"ix":case"rubicon":case"sharethrough":case"appnexus":case"venatus":case"mediafuse":case"iionads":case"webads":case"goldbach":case"beintoo":case"seedtag":case"invibes":case"ttd":case"alkimi":case"adf":case"sovrn":return!1;case"rise":case"pubmatic":case"connatix":case"ozone":case"nexx360":case"stroeerCore":return!0}}updatePrebidUserIds(){const e=n();if(!(0,C.O9)(e))return;if(!(0,C.O9)(this.lastUsedUserEmail))return;const t=this.getExperiments()??{},i=t[pe],r=t[ge],s=t[be],o=[];r&&o.push("uid2"),i&&o.push("liveIntentId"),s&&(o.push("identityLink"),o.push("pairId")),m.debug("userIdsToRefresh",o),o.length>0&&e.refreshUserIds({submoduleNames:o})}ortb2Config(e){const{pageUrl:t,ortb2Site:i}=e,n=t||i?.page;if(!n)return null;try{const e=new URL(n),t=i||{};return t.page=n,t.domain=e.host,{site:t}}catch{return m.error(`[AdRequester] Invalid pageUrl ${t}`),null}}async initializeApstag(e){if(this.isApstagInitialized)return;this.isApstagInitialized=!0;const{params:t,...i}=this.amazonConfig,n={...i,params:{...t,videoAdServer:"DFP"}};m.debug("[AdRequester] Settings apstag config",n),u().init(n)}createGamSlots(e){return e.length>0?this.isGoogletagInitialized?new Promise(t=>{a().cmd.push(()=>{e.forEach(e=>e.defineSlot()),t()})}):(this.isGoogletagInitialized=!0,new Promise(t=>{a().cmd.push(()=>{d().pubads().setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!1,sandbox:!0}),e.forEach(e=>e.defineSlot()),t()})})):Promise.resolve()}destroyGamSlots(){const e=this.adUnits.filter(e=>e.isBanner());return 0===e.length?Promise.resolve():new Promise(t=>{a().cmd.push(()=>{const i=d(),n=e.map(e=>e.findSlot()).filter(e=>!!e);i.destroySlots(n),e.forEach(e=>e.markSlotAsDestroyed());const r=i.pubads().getTargetingKeys(),s=["criteoId","id5id","tdid"];r.filter(e=>!s.includes(e)).forEach(e=>{i.pubads().clearTargeting(e)}),t()})})}async renderBids(e,t){const i=this.selectRequestedUnits(e);m.debug("[AdRequester] Rendering",e,t),m.debug("[AdRequester] Selected ad units",i);const n={bidder:"google",...v("google",this.config.bidders||[])},r=t;t.googleBidder&&(r.bidders=[t.googleBidder]);const s=Fi.createBidder("google",n,t.bidders);this.setBidsForUnits(i,t,[s]);const o=i.map(e=>e.shouldRenderBid(t.filterFn)).filter(e=>!!e),a=this.getPrebidAdUnitsForUnits(o),d=this.getApstagSlotsForUnits(o),c=o.some(e=>e.isVideo())?"video":"banner";t.gam=this.getGamKeyValues(t.gam||{},c),m.debug("[AdRequester] Rendering bids",o,a,d),await this.renderer.render(i,t,a,d)}async renderBanners(e,t){await this.renderBids(e,t)}async renderVideos(e,t){await this.renderBids(e,t)}getPrebidAdUnitsForUnits(e){const t=[];return e.forEach(e=>{if(si(e)){e.getAllCodes().forEach(e=>t.push(e))}else t.push(e.code())}),this.getPrebidAdUnits().filter(e=>t.some(t=>t===e.code))}getApstagSlotsForUnits(e){const t=[];return e.forEach(e=>{const i=e.getApstagSlots();i&&i.length>0&&t.push(...i)}),t}getExperiments(){return Ie.getInstance().getExperiments()}getGamKeyValues(e,t){return{...e,...this.getExperimentGAMKeyValues(),..._.getIncrementalBidderGamKeys(t),..._.getSessionKVs(t)}}getExperimentGAMKeyValues(){const e=this.getExperiments()??{},t={};for(const i of fe){const n=e[i];void 0!==n&&(t[i]=`${n}`)}return Object.entries(Xt.getAdditionalGAMKeyValuePairs()).forEach(e=>{let[i,n]=e;void 0!==n&&(t[i]=n)}),t}getGvlMapping(){return{appnexus_server:32,pubmatic_server:76,rubicon_server:52,rise_server:1043,sharethrough_server:80,ix_server:10}}}function dn(e){switch(e){case"venatus":return{alias:"aniview",gvlid:26};case"iionads":return{alias:"limelightDigital",gvlid:1358};case"webads":return{alias:"appnexus",gvlid:601};case"goldbach":return{alias:"appnexus",gvlid:580};case"beintoo":return{alias:"appnexus",gvlid:618};case"appnexus":case"rubicon":case"ix":case"pubmatic":case"sharethrough":case"rise":case"stroeerCore":case"mediafuse":case"seedtag":case"ozone":case"connatix":case"invibes":case"ttd":case"alkimi":case"adf":case"sovrn":case"nexx360":return null}}function cn(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const un=class{constructor(){cn(this,"queue",[]),cn(this,"_adRequester",null)}queueRequest(e,t){const i=(0,Oi.v)(),n={type:"request",options:t,request:e,deferred:i};return this.enqueue(n),i.promise}queueReset(){const e=(0,Oi.v)(),t={type:"reset",deferred:e};return this.enqueue(t),e.promise}render(e,t){return this.adRequester.renderBanners(e,t)}getGamUrl(e,t){return this.adRequester.renderVideos(e,t)}enqueue(e){this.queue.push(e),1===this.queue.length&&this.processQueue()}async processQueue(){if(this.queue.length<=0)return;const e=this.queue[0];try{switch(e.type){case"request":const t=await this.adRequester.requestAds(e.request,e.options);e.deferred.resolve(t);break;case"reset":await this.adRequester.reset(),e.deferred.resolve()}}catch(t){h.error(t),e.deferred.reject()}return this.queue.shift(),this.processQueue()}get adRequester(){return this._adRequester||(this._adRequester=new an($.advertising)),this._adRequester}};let ln,pn=!1;async function mn(e,t){try{ln||(ln=new un);return await ln.queueRequest(e,t)}catch(e){return m.error(e),{}}}async function hn(e,t){try{if(!ln)throw new Error("[CrazyAds] Expected a request before a render");await ln.render(e,t)}catch(e){m.error(e)}}m.debug("[CrazyGamesAds] Loaded Version 12.3.0");const bn={requestAds:async function(e,t){if(e.units.some(e=>Re(e)))throw new Error("[CrazyAds] Video ads are not supported in requestAds");try{const i=await mn(e,t),n=e.codes||e.units.map(e=>e.adUnit.code);return await hn(n,{...t,banner:t.banner||{}}),i}catch(e){return m.error(e),{}}},requestOnly:mn,reset:async function(){try{if(!ln)throw new Error("[CrazyAds] Expected a request before a reset");await ln.queueReset(),Xt.reset()}catch(e){m.error(e)}},render:hn,getGamUrl:async function(e,t){if(!ln)throw new Error("[CrazyAds] Expected a request before a render");return ln.getGamUrl([e],t)},nextPage:function(){a().cmd.push(function(){d().destroySlots()}),ln=new un},hasAdblock:Ve,initAds:function(e){m.debug("initialising ads",e),pn||(pn=!0,N.getInstance().init(e),Ve(),Ne(),xe.loadIfNeeded().catch(()=>{}),i().que.push(()=>{r().onEvent("auctionDebug",e=>{const t=N.getInstance(),i="WARNING"===e.type?"warning":"error",n=Array.from(e.arguments).join(", ");t.sendInternalAdErrorEvent(i,"prebid",n)})}),W.fetchConfig())},getConsentInformation:function(e){return qt.getInstance().getConsentInformation(e)},addConsentChangedListener:function(e){qt.getInstance().addConsentListener(e)},removeConsentChangedListener:function(e){qt.getInstance().removeConsentListener(e)}};window.CrazygamesAds=bn})()})();