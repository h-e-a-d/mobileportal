try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="538c09c6-980d-4bcc-9bb8-882d9195626f",e._sentryDebugIdIdentifier="sentry-dbid-538c09c6-980d-4bcc-9bb8-882d9195626f")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:crazygames-portal":!0})}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[75910],{76228:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return a(75445)}])},18705:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(74848),r=a(96540),i=a(13368),s=a.n(i),o=a(35265),l=a(49754),d=a(27108);let c=e=>{let{canonical:t,title:a,description:i,imageUrl:c="crazygames/share.png",imageWidth:u=1200,imageHeight:g=630,type:m}=e,{locale:p}=r.useContext(d.A),y=(0,l.Ay)(c,{width:u,height:g,fit:"crop"});return(0,n.jsxs)(s(),{children:[(0,n.jsx)("meta",{property:"og:url",content:t}),(0,n.jsx)("meta",{property:"og:title",content:a}),(0,n.jsx)("meta",{property:"og:description",content:i}),(0,n.jsx)("meta",{property:"og:locale",content:(0,o.uo)(p)}),(0,n.jsx)("meta",{property:"og:image",content:y}),(0,n.jsx)("meta",{property:"og:image:width",content:u.toString()}),(0,n.jsx)("meta",{property:"og:image:height",content:g.toString()}),m&&(0,n.jsx)("meta",{property:"og:type",content:m}),(0,n.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{property:"twitter:url",content:t}),(0,n.jsx)("meta",{property:"twitter:title",content:a}),(0,n.jsx)("meta",{property:"twitter:description",content:i}),(0,n.jsx)("meta",{property:"twitter:image",content:y})]})}},50671:(e,t,a)=>{"use strict";a.d(t,{$Y:()=>T,AJ:()=>m,CZ:()=>x,EJ:()=>f,H_:()=>p,Qe:()=>w,Qh:()=>u,Qq:()=>c,T5:()=>g,a1:()=>P,hA:()=>v,uA:()=>y,wN:()=>h,xV:()=>A});var n=a(2503),r=a(96230),i=a(3600),s=a(45300),o=a(35265),l=a(97373);function d(e){return s.A.Instance.data.domains.map(t=>{let a="en-US"===(0,o.cy)(t.host),s={...r.a},l=new n.A(s).generateHome({page:e});if(!l)return null;let d=(0,i.A)(t.host,l.as,{isMainDomain:a,locale:t.locale}).toString();return{locale:t.locale,href:d.toString(),host:t.host}}).filter(e=>!!e)}function c(e){return b(e=>e.generateCompetitions(),{},e,"competitions")}function u(e){return b(e=>e.generateScholarship(),{},e,"scholarship")}function g(e){return b(e=>e.generateRecent(),{},e,"recent")}function m(e){return b(e=>e.generateOriginals(),{},e,"originals")}function p(e){return b(e=>e.generateTags(),{},e,"tags")}function y(e,t){return b((e,t)=>e.generateGame(t),{slug:e},t,"game")}function h(e){return b(e=>e.generatePrivacyPolicy(),{},e,"privacyPolicy")}function f(e){return b(e=>e.generateTermsAndConditions(),{},e,"termsAndConditions")}function w(e){return b(e=>e.generateSearch(),{},e,"search")}function v(e,t){return b(t=>t.generateProfilePage(e),{},t,"u")}async function x(e,t,a,n,r){if(r)return d(n);if(t&&"hot"===t)return b(e=>e.generatePaginatedHotGames({page:n}),{},await a.getRouteProviderData("hotGames"),"hotGames");switch(e){case l.QI:return b(e=>e.generatePaginatedNewGames({page:n}),{},await a.getRouteProviderData("newGames"),"newGames");case l.nn:case l.F3:return b(e=>e.generatePaginatedUpdatedGames({page:n}),{},await a.getRouteProviderData("updatedGames"),"updatedGames");default:return console.warn(`unexpected sorting in games ${e}`),d(n)}}async function T(e,t,a){if(e.isCategory){let n=await t.getRouteProviderData("category");return b((e,t)=>e.generateCategory(t),{slugTrl:e.slug,page:a},n,"category")}{let n=await t.getRouteProviderData("tag");return b((e,t)=>e.generateTag(t),{slugTrl:e.slug,page:a},n,"tag")}}async function P(e,t,a,n){return b((t,a)=>t.generateMultiplayerWithTag(a,e.slug),{page:a,sorting:n},t,"multiplayer")}function A(e,t){return b(t=>t.generateAllGames(e),{},t,"allGames")}function b(e,t,a,l){return(function(e){let t=s.A.Instance.data.domains.filter(e=>!e.isHiddenOnWeb);return e.map(e=>({domain:t.find(t=>(0,o.uo)(t.locale)===e.locale),routeData:e}))})(a).map(a=>{let s=a.domain,d="en-US"===(0,o.cy)(s.host),c=s.locale,u={...r.a,[l]:a.routeData.route,locale:a.routeData.locale},g=e(new n.A(u),t);if(!g||!a.domain)return null;let m=(0,i.A)(a.domain.host,g.as,{isMainDomain:d,locale:c}).toString();return{locale:a.domain.locale,href:m.toString(),host:a.domain.host}}).filter(e=>!!e)}},75445:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>K});var n=a(74848),r=a(96540),i=a(45300),s=a(50671),o=a(40499),l=a(17033),d=a(35265),c=a(62603),u=a(31162),g=a(97373),m=a(18951),p=a(87469),y=a(86715),h=a.n(y),f=a(4743),w=a(43483),v=a(53164),x=a(94282),T=a(78766),P=a(38037),A=a(64996),b=a(16771),S=a(59386),I=a(88363),j=a(38131);let D=e=>{let{gameId:t}=e,{services:a}=r.useContext(A.A),{user:n}=r.useContext(S.R),{syncPlayedTime:i}=r.useContext(I.oJ),s=r.useRef(Date.now()),o={};b.Ll.forEach(e=>{o[e]=!1});let l=r.useRef(o),d="IN_APP_REVIEW_REQUESTED",c=r.useRef(!1),u=()=>"true"===j.A.Instance.getItem(d),g=()=>j.A.Instance.setItem(d,"true"),{gamesPlayedService:m,analyticsService:p}=a;r.useEffect(()=>()=>{i()},[i,t]);let y=(0,r.useCallback)(()=>{let e=Math.round((Date.now()-s.current)/1e3);b.Ll.forEach(a=>{e>=60*a&&!l.current[a]&&(p.trackSessionPlaytimeRanges(t,a),l.current[a]=!0)})},[t,p]),h=(0,r.useCallback)(()=>{if(!n)return;let e=Math.round((Date.now()-s.current)/1e3);m.handlePlayedTimeForUPSync(t,e)},[n,t,m]),f=(0,r.useCallback)(()=>{Math.round((Date.now()-s.current)/1e3)>=300&&!u()&&(c.current=!0)},[]);return r.useEffect(()=>()=>{c.current&&!u()&&g()},[]),r.useEffect(()=>{n&&h()},[n,h]),r.useEffect(()=>{let e=null,t=()=>{e=window.setInterval(()=>{h(),y()},b.sB)},a=()=>{e&&(window.clearInterval(e),h(),y(),e=null)},n=()=>{document.hidden?a():t()};return t(),document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n),e&&window.clearInterval(e)}},[y,h,f]),null};var G=a(62465),R=a(30804),_=a(97538);class E extends r.Component{constructor(e){super(e),this.addToRecentTimeout=null,this.gameStartTime=0,this.pageUnload=()=>{this.savePlayedGameTime()},this.processMessage=e=>{if(e.data&&e.data.type===T.x)switch(e.data.event){case"afterPlayNow":(0,G.$n)("afterPlayNow");break;case"gameStartLoad":(0,G.$n)("gameStartLoad");break;case"gameLoaded":{let{gfVersion:t}=e.data;this.handlePlayerStartedPlaying(t);return}}},this.delayedAddToRecent=()=>{let{game:e,userRecent:t}=this.props;t.addToRecent({id:e.id,slug:e.slug,name:e.name,cover:e.cover,covers:e.covers,videos:e.videos,status:e.status,iosFriendly:e.iosFriendly,androidFriendly:e.androidFriendly,mobileFriendly:!!(e.iosFriendly||e.androidFriendly),gameThumbLabels:[],playedTime:45})},this.state={trackTime:!1}}render(){let{game:e}=this.props,{trackTime:t}=this.state;return t&&(0,n.jsx)(D,{gameId:e.id})}componentDidMount(){let{services:e,game:t}=this.props;e.crazyAnalyticsService.gamePageLoaded(t.id,t.buildId),window.addEventListener("message",this.processMessage),window.addEventListener("pagehide",this.pageUnload)}componentWillUnmount(){this.savePlayedGameTime(),this.clearGameTracking(),window.removeEventListener("pagehide",this.pageUnload),window.removeEventListener("message",this.processMessage),this.props.services.crazyAnalyticsService.gamePageExited()}handlePlayerStartedPlaying(e){(0,G.$n)("afterGameLoad"),this.setGameTracking(e),this.addToRecent()}addToRecent(){this.addToRecentTimeout=window.setTimeout(this.delayedAddToRecent,45e3)}setGameTracking(e){let{services:t,game:a}=this.props,{gamesPlayedService:n,crazyAnalyticsService:r}=t;n.startedPlayingGame(a),this.gameStartTime=Date.now();let i=_.SS(a.slug)?.numPlays||1;r.playingStarts({gfVersion:e,gameId:a.id,buildId:a.buildId,numPlays:i}),(0,_.A8)(a.slug),this.setState({trackTime:!0})}savePlayedGameTime(){let{game:e,services:t}=this.props;if(this.gameStartTime){let a=Math.min(27e5,Date.now()-this.gameStartTime);t.gamesPlayedService.trackPlayedTime(e.slug,a)}}clearGameTracking(){this.addToRecentTimeout&&window.clearTimeout(this.addToRecentTimeout),this.setState({trackTime:!1})}}let k=(0,P.A)((0,I.QR)(e=>{let t=r.useContext(R.H);return(0,n.jsx)(E,{experiment:t,...e})}));var C=a(18705),L=a(71197),M=a(29467),F=a(7040),N=a(27434),U=a(45249),H=a(73319),O=a(14953),W=a.n(O),$=a(54437),z=a(43541);let Q=e=>{let{structuredData:t}=e,{i18n:a}=(0,f.uB)(),{routeHelper:i}=r.useContext(U.A);if(!t)return null;let s={...t,isPartOf:(0,z.Xr)(a,i)};return(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}})};var q=a(8056);let B=W()(()=>Promise.all([a.e(11019),a.e(79004),a.e(11749),a.e(56871),a.e(69042)]).then(a.bind(a,69042)),{loadableGenerated:{webpack:()=>[69042]},loading:()=>null,ssr:!0}),J=W()(()=>Promise.all([a.e(11019),a.e(79004),a.e(11749),a.e(56871),a.e(30990)]).then(a.bind(a,30990)),{loadableGenerated:{webpack:()=>[30990]},loading:()=>null,ssr:!0}),V=e=>{let{game:t,related:a,alternatives:s,isCrawler:l,locale:d}=e,{routeHelper:c}=r.useContext(U.A),u=r.useContext(q.A),g=(0,f.uB)();r.useEffect(()=>((0,$.I)({gameId:t.id}),()=>(0,$.I)({gameId:null})),[t.id]);let m={name:t.name,category:t.category?.name||""},p=t.pageTitle?t.pageTitle:g._("game.head.title",{name:t.name}),y=t.metaDescription||g._("game.head.metaDescriptionFallback",m),h=c.gameCanonical(t.slug),T=i.A.Instance.data.advertizing.domain,P=!(0,o.xl)(u)&&!t.iosFriendly&&!t.androidFriendly,A=!!t.disableAds||"UNAVAILABLE"===t.status||P||(0,H.O)(),b=t.tags.map(e=>e.enSlug||e.slug);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(w.A,{locale:d,advertisingGame:{gameName:t.name,gameSlug:t.slug,categoryEnSlug:t.category?.enSlug,tagsSlug:b,numLikes:t.upvotes},disabled:A,smartRefresh:{minWaitInMs:t.minWaitForSmartRefreshInMs,maxWaitInMs:t.maxWaitForSmartRefreshInMs},edgeExperiments:{},children:[(0,n.jsxs)(x.A,{title:p,metaDescription:y,canonical:h,alternatives:s,children:[(0,n.jsx)("meta",{name:"apple-mobile-web-app-title",content:t.name}),(0,n.jsx)("link",{rel:"preconnect",href:T}),(()=>{if(t.customStructuredData)return(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:t.customStructuredData}})})()]}),(0,n.jsx)(Q,{structuredData:t.structuredData}),(0,n.jsx)(C.A,{canonical:h,title:p,description:y,imageUrl:t.cover,type:"game"}),(0,n.jsx)(F.A,{children:(0,n.jsx)(B,{game:t,crawlerData:{isCrawler:l,games:a}})}),(0,n.jsx)(N.A,{children:(0,n.jsx)(J,{game:t,crawlerData:{isCrawler:l,games:a}})})]},t.slug),(0,n.jsx)(k,{game:t},`gametracking-${t.slug}`),(0,n.jsx)(v.R,{game:t}),(0,n.jsx)(L.A,{gameId:t.id,gameTechnology:t.technology}),(0,n.jsx)(M.A,{gameId:t.id})]})};V.getInitialProps=async e=>{let t=(e,t,a)=>e.collection?t.tagPageDirectLink(e.collection,{returnRelative:a}):e.category?t.categoryPageDirectLink(e.category.slug,{returnRelative:a}):t.homePageLink(),{pageService:a,routeDataService:n,crawlerService:r}=(0,p.V)(e),c=e.query&&e.query[g.xL],m=(0,o.hz)(e),y=(0,o.Gz)(m)?l.lq:l.vl,[{game:f},w]=await Promise.all([a.gamePage(c,(0,o.Dw)(m)),n.getRouteProviderData("game")]),{res:v}=e,x=(0,d.JK)(e);if("ARCHIVED"===f.status){let a=await n.getLocaleRouteProviderData(x),r=u.A.createFromContext(e,a);if(v){let e=t(f,r,!1);v.writeHead(302,{Location:e.as}),v.end()}else{let e=t(f,r,!0);h().push(e.href,e.as)}}v&&f.isKids&&(v.writeHead(302,{Location:`${i.A.Instance.data.kids}/game/${f.slug}`}),v.end());let T=(0,s.uA)(f.slug,w),P="true"===e.query[g.pr],A={game:f,numRelatedGames:y,alternatives:T,isCrawler:P,locale:x};return P?await r.replaceGamePageForCrawler(A,m):A};let K=(0,c.A)("game")((0,m.A)(V))},96230:(e,t,a)=>{"use strict";a.d(t,{a:()=>r,c:()=>n});let n=["newGames","updatedGames","hotGames","tags","category","tag","game","preview","termsAndConditions","informationForParents","privacyPolicy","10-anniversary","recent","originals","multiplayer","search","scholarship","competitions","pwa","u","allGames"],r={newGames:"",updatedGames:"",hotGames:"",tags:"",category:"",tag:"",game:"",preview:"",termsAndConditions:"",privacyPolicy:"","10-anniversary":"",recent:"",originals:"",multiplayer:"",search:"",pwa:"",allGames:"",u:"",locale:""}}},e=>{var t=t=>e(e.s=t);e.O(0,[99581,88498,6292,9128,90636,46593,38792],()=>t(76228)),_N_E=e.O()}]);